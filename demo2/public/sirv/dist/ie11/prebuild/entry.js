!function(){var t={},e=function(n,i){Array.isArray(n)||(n=[n]);var r=[];return n.forEach((function(n){t[n]?(t[n].result||(t[n].result=e(t[n].deps,t[n].cb)),r.push(t[n].result)):r.push(null)})),"function"==typeof i?i.apply(this,r):i};window.Sirv={require:e,define:function(e,n,i){i||(i=n,n=null),t[e]={deps:n,cb:i,result:null}}}}(),Sirv.define("bHelpers",(function(){var t={};function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return t.createClass=function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t},t.inheritsLoose=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e},t.assertThisInitialized=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t})),Sirv.define("polyfill",(function(){!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=45)}([function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(t,e,n){var i=n(30)("wks"),r=n(31),o=n(0).Symbol,s="function"==typeof o;(t.exports=function(t){return i[t]||(i[t]=s&&o[t]||(s?o:r)("Symbol."+t))}).store=i},function(t,e,n){var i=n(0),r=n(1),o=n(7),s=n(6),a=n(12),c=function(t,e,n){var h,u,l,d=t&c.F,f=t&c.G,p=t&c.S,g=t&c.P,m=t&c.B,v=t&c.W,y=f?r:r[e]||(r[e]={}),S=y.prototype,w=f?i:p?i[e]:(i[e]||{}).prototype;for(h in f&&(n=e),n)(u=!d&&w&&void 0!==w[h])&&a(y,h)||(l=u?w[h]:n[h],y[h]=f&&"function"!=typeof w[h]?n[h]:m&&u?o(l,i):v&&w[h]==l?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(l):g&&"function"==typeof l?o(Function.call,l):l,g&&((y.virtual||(y.virtual={}))[h]=l,t&c.R&&S&&!S[h]&&s(S,h,l)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e,n){var i=n(9);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){t.exports=!n(18)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e,n){var i=n(8),r=n(20);t.exports=n(5)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(11);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var i=n(4),r=n(50),o=n(51),s=Object.defineProperty;e.f=n(5)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){t.exports={}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var i=n(29),r=n(16);t.exports=function(t){return i(r(t))}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){t.exports=!0},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var i=n(9),r=n(0).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var i=n(56),r=n(32);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e,n){var i=n(15),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},function(t,e,n){var i=n(30)("keys"),r=n(31);t.exports=function(t){return i[t]||(i[t]=r(t))}},function(t,e,n){var i=n(8).f,r=n(12),o=n(2)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},function(t,e,n){var i=n(16);t.exports=function(t){return Object(i(t))}},function(t,e,n){"use strict";var i=n(11);function r(t){var e,n;this.promise=new t((function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i})),this.resolve=i(e),this.reject=i(n)}t.exports.f=function(t){return new r(t)}},function(t,e,n){"use strict";var i=n(49)(!0);n(28)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})}))},function(t,e,n){"use strict";var i=n(17),r=n(3),o=n(52),s=n(6),a=n(10),c=n(53),h=n(24),u=n(59),l=n(2)("iterator"),d=!([].keys&&"next"in[].keys()),f=function(){return this};t.exports=function(t,e,n,p,g,m,v){c(n,e,p);var y,S,w,b=function(t){if(!d&&t in x)return x[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},E=e+" Iterator",_="values"==g,I=!1,x=t.prototype,O=x[l]||x["@@iterator"]||g&&x[g],N=O||b(g),C=g?_?b("entries"):N:void 0,A="Array"==e&&x.entries||O;if(A&&(w=u(A.call(new t)))!==Object.prototype&&w.next&&(h(w,E,!0),i||"function"==typeof w[l]||s(w,l,f)),_&&O&&"values"!==O.name&&(I=!0,N=function(){return O.call(this)}),i&&!v||!d&&!I&&x[l]||s(x,l,N),a[e]=N,a[E]=f,g)if(y={values:_?N:b("values"),keys:m?N:b("keys"),entries:C},v)for(S in y)S in x||o(x,S,y[S]);else r(r.P+r.F*(d||I),e,y);return y}},function(t,e,n){var i=n(14);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e,n){var i=n(1),r=n(0),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n(17)?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var i=n(0).document;t.exports=i&&i.documentElement},function(t,e,n){var i=n(14),r=n(2)("toStringTag"),o="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?n:o?i(e):"Object"==(s=i(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){var i=n(4);t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}}},function(t,e,n){var i=n(10),r=n(2)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[r]===t)}},function(t,e,n){var i=n(34),r=n(2)("iterator"),o=n(10);t.exports=n(1).getIteratorMethod=function(t){if(null!=t)return t[r]||t["@@iterator"]||o[i(t)]}},function(t,e,n){var i=n(4),r=n(11),o=n(2)("species");t.exports=function(t,e){var n,s=i(t).constructor;return void 0===s||null==(n=i(s)[o])?e:r(n)}},function(t,e,n){var i,r,o,s=n(7),a=n(67),c=n(33),h=n(19),u=n(0),l=u.process,d=u.setImmediate,f=u.clearImmediate,p=u.MessageChannel,g=u.Dispatch,m=0,v={},y=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},S=function(t){y.call(t.data)};d&&f||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return v[++m]=function(){a("function"==typeof t?t:Function(t),e)},i(m),m},f=function(t){delete v[t]},"process"==n(14)(l)?i=function(t){l.nextTick(s(y,t,1))}:g&&g.now?i=function(t){g.now(s(y,t,1))}:p?(o=(r=new p).port2,r.port1.onmessage=S,i=s(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(i=function(t){u.postMessage(t+"","*")},u.addEventListener("message",S,!1)):i="onreadystatechange"in h("script")?function(t){c.appendChild(h("script")).onreadystatechange=function(){c.removeChild(this),y.call(t)}}:function(t){setTimeout(s(y,t,1),0)}),t.exports={set:d,clear:f}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var i=n(4),r=n(9),o=n(26);t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var i=n(2)("iterator"),r=!1;try{var o=[7][i]();o.return=function(){r=!0},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var o=[7],s=o[i]();s.next=function(){return{done:n=!0}},o[i]=function(){return s},t(o)}catch(t){}return n}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var i=n(5),r=n(21),o=n(13),s=n(43).f;t.exports=function(t){return function(e){for(var n,a=o(e),c=r(a),h=c.length,u=0,l=[];h>u;)n=c[u++],i&&!s.call(a,n)||l.push(t?[n,a[n]]:a[n]);return l}}},function(t,e,n){var i=n(46).default,r=n(74).default,o=n(78).default,s=n(83).default,a=n(86).default;window.Promise||(window.Promise=i),window.Array.from||(Array.from=r),window.Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{enumerable:!1,value:function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),i=n.length>>>0;if(0===i)return!1;for(var r,o,s=0|e,a=Math.max(s>=0?s:i-Math.abs(s),0);a<i;){if((r=n[a])===(o=t)||"number"==typeof r&&"number"==typeof o&&isNaN(r)&&isNaN(o))return!0;a++}return!1}}),window.Object.assign||(window.Object.assign=o),window.Object.entries||(window.Object.entries=s),window.Object.values||(window.Object.values=a),window.Object.fromEntries||(window.Object.fromEntries=function(t){return[].concat(t).reduce((function(t,e){var n=e[0],i=e[1];return t[n]=i,t}),{})}),window.Array.prototype.find||Object.defineProperty(Array.prototype,"find",{enumerable:!1,value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var i=arguments[1],r=0;r<n;){var o=e[r];if(t.call(i,o,r,e))return o;r++}}})},function(t,e,n){t.exports={default:n(47),__esModule:!0}},function(t,e,n){n(48),n(27),n(60),n(64),n(72),n(73),t.exports=n(1).Promise},function(t,e){},function(t,e,n){var i=n(15),r=n(16);t.exports=function(t){return function(e,n){var o,s,a=String(r(e)),c=i(n),h=a.length;return c<0||c>=h?t?"":void 0:(o=a.charCodeAt(c))<55296||o>56319||c+1===h||(s=a.charCodeAt(c+1))<56320||s>57343?t?a.charAt(c):o:t?a.slice(c,c+2):s-56320+(o-55296<<10)+65536}}},function(t,e,n){t.exports=!n(5)&&!n(18)((function(){return 7!=Object.defineProperty(n(19)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var i=n(9);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){t.exports=n(6)},function(t,e,n){"use strict";var i=n(54),r=n(20),o=n(24),s={};n(6)(s,n(2)("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=i(s,{next:r(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var i=n(4),r=n(55),o=n(32),s=n(23)("IE_PROTO"),a=function(){},c=function(){var t,e=n(19)("iframe"),i=o.length;for(e.style.display="none",n(33).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;i--;)delete c.prototype[o[i]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(a.prototype=i(t),n=new a,a.prototype=null,n[s]=t):n=c(),void 0===e?n:r(n,e)}},function(t,e,n){var i=n(8),r=n(4),o=n(21);t.exports=n(5)?Object.defineProperties:function(t,e){r(t);for(var n,s=o(e),a=s.length,c=0;a>c;)i.f(t,n=s[c++],e[n]);return t}},function(t,e,n){var i=n(12),r=n(13),o=n(57)(!1),s=n(23)("IE_PROTO");t.exports=function(t,e){var n,a=r(t),c=0,h=[];for(n in a)n!=s&&i(a,n)&&h.push(n);for(;e.length>c;)i(a,n=e[c++])&&(~o(h,n)||h.push(n));return h}},function(t,e,n){var i=n(13),r=n(22),o=n(58);t.exports=function(t){return function(e,n,s){var a,c=i(e),h=r(c.length),u=o(s,h);if(t&&n!=n){for(;h>u;)if((a=c[u++])!=a)return!0}else for(;h>u;u++)if((t||u in c)&&c[u]===n)return t||u||0;return!t&&-1}}},function(t,e,n){var i=n(15),r=Math.max,o=Math.min;t.exports=function(t,e){return(t=i(t))<0?r(t+e,0):o(t,e)}},function(t,e,n){var i=n(12),r=n(25),o=n(23)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,n){n(61);for(var i=n(0),r=n(6),o=n(10),s=n(2)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<a.length;c++){var h=a[c],u=i[h],l=u&&u.prototype;l&&!l[s]&&r(l,s,h),o[h]=o.Array}},function(t,e,n){"use strict";var i=n(62),r=n(63),o=n(10),s=n(13);t.exports=n(28)(Array,"Array",(function(t,e){this._t=s(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var i,r,o,s,a=n(17),c=n(0),h=n(7),u=n(34),l=n(3),d=n(9),f=n(11),p=n(65),g=n(66),m=n(38),v=n(39).set,y=n(68)(),S=n(26),w=n(40),b=n(69),E=n(41),_=c.TypeError,I=c.process,x=I&&I.versions,O=x&&x.v8||"",N=c.Promise,C="process"==u(I),A=function(){},P=r=S.f,k=!!function(){try{var t=N.resolve(1),e=(t.constructor={})[n(2)("species")]=function(t){t(A,A)};return(C||"function"==typeof PromiseRejectionEvent)&&t.then(A)instanceof e&&0!==O.indexOf("6.6")&&-1===b.indexOf("Chrome/66")}catch(t){}}(),T=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},L=function(t,e){if(!t._n){t._n=!0;var n=t._c;y((function(){for(var i=t._v,r=1==t._s,o=0,s=function(e){var n,o,s,a=r?e.ok:e.fail,c=e.resolve,h=e.reject,u=e.domain;try{a?(r||(2==t._h&&R(t),t._h=1),!0===a?n=i:(u&&u.enter(),n=a(i),u&&(u.exit(),s=!0)),n===e.promise?h(_("Promise-chain cycle")):(o=T(n))?o.call(n,c,h):c(n)):h(i)}catch(t){u&&!s&&u.exit(),h(t)}};n.length>o;)s(n[o++]);t._c=[],t._n=!1,e&&!t._h&&D(t)}))}},D=function(t){v.call(c,(function(){var e,n,i,r=t._v,o=M(t);if(o&&(e=w((function(){C?I.emit("unhandledRejection",r,t):(n=c.onunhandledrejection)?n({promise:t,reason:r}):(i=c.console)&&i.error&&i.error("Unhandled promise rejection",r)})),t._h=C||M(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},M=function(t){return 1!==t._h&&0===(t._a||t._c).length},R=function(t){v.call(c,(function(){var e;C?I.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})}))},F=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),L(e,!0))},U=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw _("Promise can't be resolved itself");(e=T(t))?y((function(){var i={_w:n,_d:!1};try{e.call(t,h(U,i,1),h(F,i,1))}catch(t){F.call(i,t)}})):(n._v=t,n._s=1,L(n,!1))}catch(t){F.call({_w:n,_d:!1},t)}}};k||(N=function(t){p(this,N,"Promise","_h"),f(t),i.call(this);try{t(h(U,this,1),h(F,this,1))}catch(t){F.call(this,t)}},(i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(70)(N.prototype,{then:function(t,e){var n=P(m(this,N));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=C?I.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&L(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new i;this.promise=t,this.resolve=h(U,t,1),this.reject=h(F,t,1)},S.f=P=function(t){return t===N||t===s?new o(t):r(t)}),l(l.G+l.W+l.F*!k,{Promise:N}),n(24)(N,"Promise"),n(71)("Promise"),s=n(1).Promise,l(l.S+l.F*!k,"Promise",{reject:function(t){var e=P(this);return(0,e.reject)(t),e.promise}}),l(l.S+l.F*(a||!k),"Promise",{resolve:function(t){return E(a&&this===s?N:this,t)}}),l(l.S+l.F*!(k&&n(42)((function(t){N.all(t).catch(A)}))),"Promise",{all:function(t){var e=this,n=P(e),i=n.resolve,r=n.reject,o=w((function(){var n=[],o=0,s=1;g(t,!1,(function(t){var a=o++,c=!1;n.push(void 0),s++,e.resolve(t).then((function(t){c||(c=!0,n[a]=t,--s||i(n))}),r)})),--s||i(n)}));return o.e&&r(o.v),n.promise},race:function(t){var e=this,n=P(e),i=n.reject,r=w((function(){g(t,!1,(function(t){e.resolve(t).then(n.resolve,i)}))}));return r.e&&i(r.v),n.promise}})},function(t,e){t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var i=n(7),r=n(35),o=n(36),s=n(4),a=n(22),c=n(37),h={},u={};(e=t.exports=function(t,e,n,l,d){var f,p,g,m,v=d?function(){return t}:c(t),y=i(n,l,e?2:1),S=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(o(v)){for(f=a(t.length);f>S;S++)if((m=e?y(s(p=t[S])[0],p[1]):y(t[S]))===h||m===u)return m}else for(g=v.call(t);!(p=g.next()).done;)if((m=r(g,y,p.value,e))===h||m===u)return m}).BREAK=h,e.RETURN=u},function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var i=n(0),r=n(39).set,o=i.MutationObserver||i.WebKitMutationObserver,s=i.process,a=i.Promise,c="process"==n(14)(s);t.exports=function(){var t,e,n,h=function(){var i,r;for(c&&(i=s.domain)&&i.exit();t;){r=t.fn,t=t.next;try{r()}catch(i){throw t?n():e=void 0,i}}e=void 0,i&&i.enter()};if(c)n=function(){s.nextTick(h)};else if(!o||i.navigator&&i.navigator.standalone)if(a&&a.resolve){var u=a.resolve(void 0);n=function(){u.then(h)}}else n=function(){r.call(i,h)};else{var l=!0,d=document.createTextNode("");new o(h).observe(d,{characterData:!0}),n=function(){d.data=l=!l}}return function(i){var r={fn:i,next:void 0};e&&(e.next=r),t||(t=r,n()),e=r}}},function(t,e,n){var i=n(0).navigator;t.exports=i&&i.userAgent||""},function(t,e,n){var i=n(6);t.exports=function(t,e,n){for(var r in e)n&&t[r]?t[r]=e[r]:i(t,r,e[r]);return t}},function(t,e,n){"use strict";var i=n(0),r=n(1),o=n(8),s=n(5),a=n(2)("species");t.exports=function(t){var e="function"==typeof r[t]?r[t]:i[t];s&&e&&!e[a]&&o.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){"use strict";var i=n(3),r=n(1),o=n(0),s=n(38),a=n(41);i(i.P+i.R,"Promise",{finally:function(t){var e=s(this,r.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return a(e,t()).then((function(){return n}))}:t,n?function(n){return a(e,t()).then((function(){throw n}))}:t)}})},function(t,e,n){"use strict";var i=n(3),r=n(26),o=n(40);i(i.S,"Promise",{try:function(t){var e=r.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){t.exports={default:n(75),__esModule:!0}},function(t,e,n){n(27),n(76),t.exports=n(1).Array.from},function(t,e,n){"use strict";var i=n(7),r=n(3),o=n(25),s=n(35),a=n(36),c=n(22),h=n(77),u=n(37);r(r.S+r.F*!n(42)((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,r,l,d=o(t),f="function"==typeof this?this:Array,p=arguments.length,g=p>1?arguments[1]:void 0,m=void 0!==g,v=0,y=u(d);if(m&&(g=i(g,p>2?arguments[2]:void 0,2)),null==y||f==Array&&a(y))for(n=new f(e=c(d.length));e>v;v++)h(n,v,m?g(d[v],v):d[v]);else for(l=y.call(d),n=new f;!(r=l.next()).done;v++)h(n,v,m?s(l,g,[r.value,v],!0):r.value);return n.length=v,n}})},function(t,e,n){"use strict";var i=n(8),r=n(20);t.exports=function(t,e,n){e in t?i.f(t,e,r(0,n)):t[e]=n}},function(t,e,n){t.exports={default:n(79),__esModule:!0}},function(t,e,n){n(80),t.exports=n(1).Object.assign},function(t,e,n){var i=n(3);i(i.S+i.F,"Object",{assign:n(81)})},function(t,e,n){"use strict";var i=n(5),r=n(21),o=n(82),s=n(43),a=n(25),c=n(29),h=Object.assign;t.exports=!h||n(18)((function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=h({},t)[n]||Object.keys(h({},e)).join("")!=i}))?function(t,e){for(var n=a(t),h=arguments.length,u=1,l=o.f,d=s.f;h>u;)for(var f,p=c(arguments[u++]),g=l?r(p).concat(l(p)):r(p),m=g.length,v=0;m>v;)f=g[v++],i&&!d.call(p,f)||(n[f]=p[f]);return n}:h},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){t.exports={default:n(84),__esModule:!0}},function(t,e,n){n(85),t.exports=n(1).Object.entries},function(t,e,n){var i=n(3),r=n(44)(!0);i(i.S,"Object",{entries:function(t){return r(t)}})},function(t,e,n){t.exports={default:n(87),__esModule:!0}},function(t,e,n){n(88),t.exports=n(1).Object.values},function(t,e,n){var i=n(3),r=n(44)(!1);i(i.S,"Object",{values:function(t){return r(t)}})}])})),Sirv.require("polyfill",(function(){})),Sirv.define("magicJS",["bHelpers"],(function(t){var e;return e=function(){var e,n,i,r=window,o=r.undefined,s=document,a=new WeakMap,c={UUID:0,storage:{},$uuid:function(t){return t.$J_UUID||(t.$J_UUID=++h.UUID)},getStorage:function(t){return h.storage[t]||(h.storage[t]={})},$false:function(){return!1},$true:function(){return!0},stylesId:"mjs-"+Math.floor(Math.random()*(new Date).getTime()),defined:function(t){return t!=o},typeOf:function(t){if(!h.defined(t))return!1;if(t.$J_TYPE)return t.$J_TYPE;if(t.nodeType){if(1===t.nodeType)return"element";if(3===t.nodeType)return"textnode"}if(t===r)return"window";if(t===s)return"document";if(t instanceof r.Array)return"array";if(t instanceof r.Function)return"function";if(t instanceof r.String)return"string";if(h.browser.trident){if(h.defined(t.cancelBubble))return"event"}else if(t===r.event||t.constructor==r.Event||t.constructor==r.MouseEvent||t.constructor==r.UIEvent||t.constructor==r.KeyboardEvent||t.constructor==r.KeyEvent)return"event";return t instanceof r.Date?"date":t instanceof r.RegExp?"regexp":t.length&&t.item?"collection":t.length&&t.callee?"arguments":typeof t},detach:function(t){var e;switch(h.typeOf(t)){case"object":for(var n in e={},t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=h.detach(t[n]));break;case"array":e=[];for(var i=0,r=t.length;i<r;i++)e[i]=h.detach(t[i]);break;default:return t}return h.$(e)},$:function(t){var e=t;switch(h.typeOf(t)){case"string":var n=s.getElementById(t);e=h.defined(n)?h.$(n):null;break;case"window":case"document":e=a.has(t)?a.get(t):new _(t);break;case"element":e=a.has(t)?a.get(t):new E(t);break;case"event":e=new h.Events.MagicEvent(t)}return e},$new:function(t,e,n){return h.$(s.createElement(t)).setProps(e||{}).setCss(n||{})},addCSS:function(t,e,n,i){var r=s.head||s.body;i&&(r=u(i).node||i),n||(n=h.stylesId);var o=u(r.querySelector("#"+n));o||(o=h.$new("style").attr("id",n).attr("type","text/css"),r.insertBefore(o.node,r.firstChild));var a=o.node.sheet;a||(a=o.node.styleSheet),"string"!==h.typeOf(e)&&(e=Object.entries(e).map((function(t){return t[0]+":"+t[1]})).join(";"));return a.insertRule?a.insertRule(t+" {"+e+"}",a.cssRules.length):a.addRule(t,e)},removeCSS:function(t,e){if("element"===h.typeOf(n)){var n=h.$(t),i=n.sheet||n.styleSheet;i.deleteRule?i.deleteRule(e):i.removeRule&&i.removeRule(e)}},generateUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})).toUpperCase()},getAbsoluteURL:function(t){return e||(e=s.createElement("a")),e.setAttribute("href",t),("!!"+e.href).replace("!!","")},getHashCode:function(t){for(var e=0,n=t.length,i=0;i<n;++i)e=31*e+t.charCodeAt(i),e%=4294967296;return e},camelize:function(t){return t.replace(/-\D/g,(function(t){return t.charAt(1).toUpperCase()}))},dashize:function(t){return t.replace(/[A-Z]/g,(function(t){return"-"+t.charAt(0).toLowerCase()}))},stringHas:function(t,e,n){return((n=n||"")+t+n).indexOf(n+e+n)>-1}},h=c,u=h.$,l={},d=navigator.userAgent.toLowerCase(),f=d.match(/(webkit|gecko|trident)\/(\d+\.?\d*)/i),p=d.match(/(edge|opr)\/(\d+\.?\d*)/i)||d.match(/(crios|chrome|safari|firefox|opera|opr)\/(\d+\.?\d*)/i),g=d.match(/version\/(\d+\.?\d*)/i),m=function(){"use strict";function e(){var t;this._magicClasses=[],this._features={fullScreen:!!(s.fullscreenEnabled||s.msFullscreenEnabled||s.webkitFullScreenEnabled||s.webkitFullscreenEnabled),cssFilters:!1},this._touchScreen="ontouchstart"in r||r.DocumentTouch&&s instanceof DocumentTouch||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,this._mobile=!!d.match(/(android|bb\d+|meego).+|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/),this._engine=(t="unknown",f&&f[1]?t=f[1].toLowerCase():r.ActiveXObject?t="trident":s.getBoxObjectFor!==o||null!==r.mozInnerScreenY?t="gecko":null===r.WebKitPoint&&navigator.taintEnabled||(t="webkit"),t),this._chrome=!1,this._webkit="webkit"===this._engine,this._gecko="gecko"===this._engine,this._trident="trident"===this._engine,this._androidBrowser=!1,this._version=f&&f[2]?parseFloat(f[2]):0,this._uaName=p&&p[1]?p[1].toLowerCase():"",this._uaVersion=p&&p[2]?parseFloat(p[2]):0,this._cssPrefix="",this._cssDomPrefix="",this._domPrefix="",this._ieMode=0,this._platform=function(){var t;return d.match(/ip(?:ad|od|hone)/)?t="ios":((t=d.match(/(?:webos|android)/))||(t=navigator.platform.match(/mac|win|linux/i))||(t=["other"]),t=t[0].toLowerCase()),t}(),this._backCompat=s.compatMode&&"backcompat"===s.compatMode.toLowerCase(),this._scrollbarsWidth=0,this._ready=!1,this.calculate()}var n=e.prototype;return n.calculate=function(){var t=this;switch(this._engine){case"trident":this._version||(this._version=r.XMLHttpRequest?3:2);break;case"gecko":this._version=p&&p[2]?parseFloat(p[2]):0}p&&"crios"===p[1]&&(this._uaName="chrome"),r.chrome&&(this._chrome=!0),"safari"===this._uaName&&g&&g[1]&&(this._uaVersion=parseFloat(g[1])),"android"===this._platform&&this._webkit&&g&&g[1]&&(this._androidBrowser=!0);var e={gecko:["-moz-","Moz","moz"],webkit:["-webkit-","Webkit","webkit"],trident:["-ms-","ms","ms"]}[this._engine]||["","",""];this._cssPrefix=e[0],this._cssDomPrefix=e[1],this._domPrefix=e[2],this._ieMode=t._trident&&s.documentMode?s.documentMode:o,!this._mobile&&"mac"===this._platform&&this._touchScreen&&(this._mobile=!0,this._platform="ios"),this._magicClasses.push(this._platform+"-magic"),this._mobile&&this._magicClasses.push("mobile-magic"),this._androidBrowser&&this._magicClasses.push("android-browser-magic"),this._ieMode&&(this._uaName="ie",this._uaVersion=this._ieMode,this._magicClasses.push("ie"+this._ieMode+"-magic")),this._magicClasses.push("svg-magic");var n=(s.documentElement.className||"").match(/\S+/g)||[];s.documentElement.className=n.concat(this._magicClasses).join(" ");try{s.documentElement.setAttribute("data-magic-ua",h.browser.uaName),s.documentElement.setAttribute("data-magic-ua-ver",h.browser.uaVersion),s.documentElement.setAttribute("data-magic-engine",h.browser.engine),s.documentElement.setAttribute("data-magic-engine-ver",h.browser.version)}catch(t){}r.navigator.pointerEnabled||["Down","Up","Move","Over","Out"].forEach((function(e){var n="pointer"+e.toLowerCase();"edge"===t._uaName?l[n]=n:r.navigator.msPointerEnabled?l[n]="MSPointer"+e:l[n]=-1}))},n.onready=function(){if(!this._ready){this._ready=!0;try{var t=h.$new("div").setCss({width:100,height:100,overflow:"scroll",position:"absolute",top:-9999}).appendTo(s.body);this._scrollbarsWidth=t.node.offsetWidth-t.node.clientWidth,t.remove()}catch(t){}try{var e=h.$new("div");e.node.style.cssText=h.dashize("filter")+":blur(2px);",this._features.cssFilters=!!e.node.style.length}catch(t){}this._features.cssFilters||h.$(s.documentElement).addClass("no-cssfilters-magic"),h.$(s).callEvent("domready")}},t.createClass(e,[{key:"features",get:function(){return this._features}},{key:"touchScreen",get:function(){return this._touchScreen}},{key:"mobile",get:function(){return this._mobile}},{key:"engine",get:function(){return this._engine}},{key:"version",get:function(){return this._version}},{key:"uaName",get:function(){return this._uaName}},{key:"uaVersion",get:function(){return this._uaVersion}},{key:"cssPrefix",get:function(){return this._cssPrefix}},{key:"cssDomPrefix",get:function(){return this._cssDomPrefix}},{key:"domPrefix",get:function(){return this._domPrefix}},{key:"ieMode",get:function(){return this._ieMode}},{key:"platform",get:function(){return this._platform}},{key:"backCompat",get:function(){return this._backCompat}},{key:"scrollbarsWidth",get:function(){return this._scrollbarsWidth}},{key:"doc",get:function(){return s.compatMode&&"backcompat"===s.compatMode.toLowerCase()?s.body:s.documentElement}},{key:"ready",get:function(){return this._ready}},{key:"chrome",get:function(){return this._chrome}},{key:"webkit",get:function(){return this._webkit}},{key:"gecko",get:function(){return this._gecko}},{key:"trident",get:function(){return this._trident}},{key:"androidBrowser",get:function(){return this._androidBrowser}}]),e}();h.browser=new m,i={capable:h.browser.features.fullScreen,enabled:function(){return!!(s.fullscreenElement||s[h.browser.domPrefix+"FullscreenElement"]||s.fullScreen||s.webkitIsFullScreen||s[h.browser.domPrefix+"FullScreen"])},request:function(t,e){e||(e={}),i.capable&&!e.windowFullscreen?(i.onchange=function(t){i.enabled()?e.onEnter&&e.onEnter():(h.$(s).removeEvent(i.changeEventName,i.onchange),e.onExit&&e.onExit())},h.$(s).addEvent(i.changeEventName,i.onchange),i.onerror=function(t){e.fallback&&e.fallback(),h.$(s).removeEvent(i.errorEventName,i.onerror)},h.$(s).addEvent(i.errorEventName,i.onerror),function(t){var e=t.requestFullscreen||t[h.browser.domPrefix+"RequestFullscreen"]||t[h.browser.domPrefix+"RequestFullScreen"];e||(e=function(){}),e.call(t)}(u(t).node)):e.fallback&&e.fallback()},cancel:(n=s.exitFullscreen||s.cancelFullScreen||s[h.browser.domPrefix+"ExitFullscreen"]||s[h.browser.domPrefix+"CancelFullScreen"],n||(n=function(){}),n),changeEventName:function(){var t;return s.msExitFullscreen?t="MSFullscreenChange":(t=s.exitFullscreen?"":h.browser.domPrefix,t+="fullscreenchange"),t}(),errorEventName:function(){var t;return s.msExitFullscreen?t="MSFullscreenError":(t=s.exitFullscreen?"":h.browser.domPrefix,t+="fullscreenerror"),t}(),prefix:h.browser.domPrefix,activeElement:null},h.browser.fullScreen=i;var v=/^(border(Top|Bottom|Left|Right)Width)|((padding|margin)(Top|Bottom|Left|Right))$/,y={},S={fontWeight:!0,lineHeight:!0,opacity:!0,zIndex:!0,zoom:!0},w=function(t){if(!(t in s.documentElement.style)){var e=h.browser.cssDomPrefix+t.charAt(0).toUpperCase()+t.slice(1);if(e in s.documentElement.style)return e}return t};h.normalizeCSS=w;var b=function(){"use strict";function t(t){this.node=t,this.$J_UUID=++h.UUID,this.$J_TYPE=null,this.$J_EXT=function(){},a.set(this.node,this)}var e=t.prototype;return e.fetch=function(t,e){var n=h.getStorage(this.$J_UUID),i=n[t],r=null;return e!==o&&i===o&&(n[t]=e,i=n[t]),h.defined(i)&&(r=i),r},e.store=function(t,e){return h.getStorage(this.$J_UUID)[t]=e,this},e.del=function(t){return delete h.getStorage(this.$J_UUID)[t],this},e.addEvent=function(t,e,n,i){var o=this;if("array"===h.typeOf(t))return t.forEach((function(t){o.addEvent(t,e,n,i)})),this;if(!(t=l[t]||t)||!e||"string"!==h.typeOf(t)||"function"!==h.typeOf(e))return this;if("domready"===t&&h.browser.ready)return e(),this;n=parseInt(n||50,10),e.$J_EUID||(e.$J_EUID=Math.floor(Math.random()*+new Date));var s=this.fetch("_EVENTS_",{}),a=s[t];a||(a=[],s[t]=a,h.Events.handlers[t]?h.Events.handlers[t].add.call(this,i):(a.handle=function(e){e=Object.assign(e||r.e,{$J_TYPE:"event"}),o.callEvent(t,h.$(e))},this.node[h._event_add_](h._event_prefix_+t,a.handle,!1)));var c={type:t,fn:e,priority:n,euid:e.$J_EUID};return a.push(c),a.sort((function(t,e){return t.priority-e.priority})),this},e.removeEvent=function(){var t=this,e=this.fetch("_EVENTS_",{}),n=arguments.length<=0?void 0:arguments[0],i=arguments.length>1?arguments.length<=1?void 0:arguments[1]:-100;if("array"===h.typeOf(n))return n.forEach((function(e){t.removeEvent(e,i)})),this;if(!(n=l[n]||n)||"string"!==h.typeOf(n)||!e||!e[n])return this;for(var r=e[n]||[],o=0;o<r.length;o++){var s=r[o];(-100===i||i&&i.$J_EUID===s.euid)&&r.splice(o--,1)}return 0===r.length&&(h.Events.handlers[n]?h.Events.handlers[n].remove.call(this):this.node[h._event_del_](h._event_prefix_+n,r.handle,!1),delete e[n]),this},e.callEvent=function(t,e){var n=this.fetch("_EVENTS_",{});if((t=l[t]||t)&&"string"===h.typeOf(t)&&n&&n[t]){try{e&&e.type||(e=Object.assign(e||{},{type:t}))}catch(t){}e.timeStamp===o&&(e.timeStamp=+new Date);for(var i=n[t]||[],r=0;r<i.length&&(!e.isQueueStopped||!e.isQueueStopped());r++)i[r].fn.call(this,e)}else;},e.raiseEvent=function(t,e){var n,i="domready"!==t,r=this;return t=l[t]||t,i?(r===s&&s.createEvent&&!r.dispatchEvent&&(r=s.documentElement),s.createEvent?(n=s.createEvent(t)).initEvent(e,!0,!0):(n=s.createEventObject()).eventType=t,s.createEvent?r.dispatchEvent(n):r.fireEvent("on"+e,n),n):(this.callEvent(t),this)},e.clearEvents=function(){var t=this,e=this.fetch("_EVENTS_");return e?(Object.keys(e).forEach((function(e){t.removeEvent(e)})),this.del("_EVENTS_"),this):this},t}(),E=function(e){"use strict";function n(t){var n;return(n=e.call(this,t)||this).$J_TYPE="magicjs-element",n}t.inheritsLoose(n,e);var i=n.prototype;return i.requestFullScreen=function(){h.browser.fullScreen.capable&&!s.requestFullScreen?h.browser.fullScreen.request(this.node):this.node.requestFullScreen(this.node)},i.addClass=function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.forEach((function(e){t.node.classList.add(e)})),this},i.removeClass=function(t){return this.node.classList.remove(t),this},i.getCss=function(t){var e=h.camelize(t);y[e]||(y[e]=w(e)),t=y[e];var n,i,o,s=(n=this.node,i=t,(o=r.getComputedStyle(n,null))?o.getPropertyValue(i)||o[i]:null);if("auto"===s&&(s=null),null!==s){if("opacity"===t)return h.defined(s)?parseFloat(s):1;v.test(t)&&(s=parseInt(s,10)?s:"0px")}return s},i.setCssProp=function(t,e){var n=h.camelize(t);try{y[n]||(y[n]=w(n)),t=y[n],this.node.style[t]=e+("number"!==h.typeOf(e)||S[n]?"":"px")}catch(t){}return this},i.setCss=function(t){var e=this;return Object.entries(t).forEach((function(t){e.setCssProp.apply(e,t)})),this},i.getStyles=function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return Object.fromEntries(n.map((function(e){return[e,t.getCss(e)]})))},i.setProps=function(t){var e=this;return Object.entries(t).forEach((function(t){var n;(t[1]=""+t[1],"class"===t[0])?e.addClass(t[1]):(n=e.node).setAttribute.apply(n,t)})),this},i.render=function(){return this.size},i.getInnerSize=function(t){var e=this.size;return e.width-=parseFloat(this.getCss("border-left-width")||0)+parseFloat(this.getCss("border-right-width")||0),e.height-=parseFloat(this.getCss("border-top-width")||0)+parseFloat(this.getCss("border-bottom-width")||0),t||(e.width-=parseFloat(this.getCss("padding-left")||0)+parseFloat(this.getCss("padding-right")||0),e.height-=parseFloat(this.getCss("padding-top")||0)+parseFloat(this.getCss("padding-bottom")||0)),e},i.changeContent=function(t){try{this.node.innerHTML=t}catch(e){this.node.innerText=t}return this},i.remove=function(){var t=this;return this.node.parentNode&&(t=h.$(this.node.parentNode.removeChild(this.node))),t},i.kill=function(){return Array.from(this.node.childNodes).forEach((function(t){3!==t.nodeType&&8!==t.nodeType&&h.$(t).kill()})),this.remove(),this.clearEvents(),this.$J_UUID&&(h.storage[this.$J_UUID]=null,delete h.storage[this.$J_UUID]),null},i.append=function(t,e){void 0===e&&(e="bottom");var n=this.node.firstChild;return t=h.$(t),"top"===e&&n?this.node.insertBefore(t.node,n):this.node.appendChild(t.node||t),this},i.appendTo=function(t,e){return h.$(t).append(this,e),this},i.attr=function(t,e){var n=this;return h.defined(e)?this.node.setAttribute(t,e):(n=this.node.getAttribute(t))&&"string"===h.typeOf(n)&&""!==n.trim()||(n=null),n},i.removeAttr=function(t){return this.node.removeAttribute(t),this},i.hasClass=function(t){if(this.node.classList)return this.node.classList.contains(t);var e=this.node.className;return this.node.className instanceof SVGAnimatedString&&(e=this.node.className.baseVal),!h.stringHas(t||""," ")&&h.stringHas(e||""," ")},i.hasAttribute=function(t){return this.node.hasAttribute(t)},t.createClass(n,[{key:"size",get:function(){return{width:this.node.offsetWidth,height:this.node.offsetHeight}}},{key:"scroll",get:function(){return{top:this.node.scrollTop,left:this.node.scrollLeft}}},{key:"fullScroll",get:function(){var t=this.node,e={top:0,left:0};do{e.left+=t.scrollLeft||0,e.top+=t.scrollTop||0,t=t.parentNode}while(t);return e}},{key:"position",get:function(){var t=this.node.getBoundingClientRect(),e=h.$(s).scroll,n=h.browser.doc;return{top:t.top+e.y-n.clientTop,left:t.left+e.x-n.clientLeft}}},{key:"rect",get:function(){var t=this.position,e=this.size;return{top:t.top,bottom:t.top+e.height,left:t.left,right:t.left+e.width}}},{key:"tagName",get:function(){return this.node.tagName.toLowerCase()}}]),n}(b),_=function(e){"use strict";function n(t){var n;n=e.call(this,t)||this;var i="magicjs-document";return t===r&&(i="magicjs-window"),n.$J_TYPE=i,n}return t.inheritsLoose(n,e),t.createClass(n,[{key:"size",get:function(){return h.browser.touchScreen?{width:r.innerWidth,height:r.innerHeight}:{width:h.browser.doc.clientWidth,height:h.browser.doc.clientHeight}}},{key:"scroll",get:function(){return{x:r.pageXOffset||h.browser.doc.scrollLeft,y:r.pageYOffset||h.browser.doc.scrollTop}}},{key:"fullSize",get:function(){var t=this.size;return{width:Math.max(h.browser.doc.scrollWidth,t.width),height:Math.max(h.browser.doc.scrollHeight,t.height)}}}]),n}(b);h.Events={};var I=function(){"use strict";function e(t){this.oe=t,this.$J_TYPE="event",this.isQueueStopped=h.$false,this.type=this.oe.type,this.timeStamp=this.oe.timeStamp,this.propertyName=this.oe.propertyName,this.pointerType=this.oe.pointerType}var n=e.prototype;return n.stop=function(){return this.stopDistribution().stopDefaults()},n.stopDistribution=function(){return this.oe.stopPropagation?this.oe.stopPropagation():this.oe.cancelBubble=!0,this},n.stopDefaults=function(){return this.oe.preventDefault?this.oe.preventDefault():this.oe.returnValue=!1,this},n.stopQueue=function(){return this.isQueueStopped=h.$true,this},n.isTouchEvent=function(){return this.oe.pointerType&&("touch"===this.oe.pointerType||this.oe.pointerType===this.oe.MSPOINTER_TYPE_TOUCH)||/touch/i.test(this.type)},n.isPrimaryTouch=function(){return this.oe.pointerType?("touch"===this.oe.pointerType||this.oe.MSPOINTER_TYPE_TOUCH===this.oe.pointerType)&&this.oe.isPrimary:this.oe instanceof r.TouchEvent&&(1===this.oe.changedTouches.length&&(!this.oe.targetTouches.length||this.oe.targetTouches[0].identifier===this.oe.changedTouches[0].identifier))},t.createClass(e,[{key:"originEvent",get:function(){return this.oe}},{key:"clientXY",get:function(){var t,e={x:0,y:0};return t=/touch/i.test(this.type)?this.oe.changedTouches[0]:this.oe,h.defined(t)&&(e={x:t.clientX,y:t.clientY}),e}},{key:"pageXY",get:function(){var t=this.oe;return/touch/i.test(this.type)&&(t=this.oe.changedTouches[0]),h.defined(t)?{x:t.pageX||t.clientX+h.browser.doc.scrollLeft,y:t.pageY||t.clientY+h.browser.doc.scrollTop}:{x:0,y:0}}},{key:"target",get:function(){var t=this.oe.target;for(t||(t=this.oe.srcElement);t&&3===t.nodeType;)t=t.parentNode;return t}},{key:"related",get:function(){var t=null;switch(this.type){case"mouseover":case"pointerover":case"MSPointerOver":(t=this.oe.relatedTarget)||(t=this.oe.fromElement);break;case"mouseout":case"pointerout":case"MSPointerOut":(t=this.oe.relatedTarget)||(t=this.oe.toElement);break;default:return t}try{for(;t&&3===t.nodeType;)t=t.parentNode}catch(e){t=null}return t}},{key:"button",get:function(){var t=this.oe.which;return this.oe.which||this.oe.button===o||(t=1&this.oe.button?1:2&this.oe.button?3:4&this.oe.button?2:0),t}},{key:"primaryTouch",get:function(){var t=null;return this.oe.pointerType?!this.oe.isPrimary||"touch"!==this.oe.pointerType&&this.oe.MSPOINTER_TYPE_TOUCH!==this.oe.pointerType||(t=this.oe):this.oe instanceof r.TouchEvent&&(t=this.oe.changedTouches[0]),t}},{key:"primaryTouchId",get:function(){var t=null;return this.oe.pointerType?!this.oe.isPrimary||"touch"!==this.oe.pointerType&&this.oe.MSPOINTER_TYPE_TOUCH!==this.oe.pointerType||(t=this.oe.pointerId):this.oe instanceof r.TouchEvent&&(t=this.oe.changedTouches[0].identifier),t}}]),e}();h.Events.MagicEvent=I,h._event_add_="addEventListener",h._event_del_="removeEventListener",h._event_prefix_="",s.addEventListener||(h._event_add_="attachEvent",h._event_del_="detachEvent",h._event_prefix_="on");var x=function(){"use strict";function e(t){this.$J_TYPE="event.custom",this.magicEvent="event"===t.$J_TYPE?t:t.magicEvent,this.type=this.magicEvent.type,this._target=null,this.x=this.magicEvent.oe.x,this.y=this.magicEvent.oe.y,this.timeStamp=this.magicEvent.oe.timeStamp,this.relatedTarget=this.magicEvent.related,this.isQueueStopped=this.magicEvent.isQueueStopped,this.events=[]}var n=e.prototype;return n.pushToEvents=function(t){var e=t;this.events.push(e)},n.stop=function(){return this.stopDistribution().stopDefaults()},n.stopDistribution=function(){return this.events.forEach((function(t){try{t.stopDistribution()}catch(t){}})),this},n.stopDefaults=function(){return this.events.forEach((function(t){try{t.stopDefaults()}catch(t){}})),this},n.stopQueue=function(){return this.isQueueStopped=h.$true,this.magicEvent.stopQueue(),this},n.isTouchEvent=function(){return this.magicEvent.isTouchEvent()},n.isPrimaryTouch=function(){return this.magicEvent.isPrimaryTouch()},t.createClass(e,[{key:"originEvent",get:function(){return this.magicEvent.originEvent}},{key:"clientXY",get:function(){return{x:this.clientX||this.magicEvent.oe.clientX,y:this.clientY||this.magicEvent.oe.clientY}}},{key:"pageXY",get:function(){return{x:this.x,y:this.y}}},{key:"target",get:function(){return this._target||this.magicEvent.oe.target}},{key:"related",get:function(){return this.relatedTarget}},{key:"button",get:function(){return this.magicEvent.button}},{key:"originalTarget",get:function(){return this.events.length>0?this.events[0].target:o}},{key:"primaryTouch",get:function(){return this.magicEvent.primaryTouch}},{key:"primaryTouchId",get:function(){return this.magicEvent.primaryTouchId}}]),e}();return h.Events.Custom=x,h.Events.handlers={},function(t){"interactive"===s.readyState||"complete"===s.readyState?setTimeout((function(){return t.browser.onready()}),0):(t.$(s).addEvent("readystatechange",(function(e){"interactive"!==e.target.readyState&&"complete"!==e.target.readyState||t.browser.onready()})),t.$(s).addEvent("DOMContentLoaded",(function(){t.browser.onready()})),t.$(r).addEvent("load",(function(){t.browser.onready()})))}(c),function(e){var n=function(e){"use strict";function n(t,n){var i;i=e.call(this,t)||this;var r=t.pageXY;return i.type="btnclick",i.x=r.x,i.y=r.y,i.clientX=t.oe.clientX,i.clientY=t.oe.clientY,i._target=n.node,i.pushToEvents(t),i}return t.inheritsLoose(n,e),n}(e.Events.Custom),i={threshold:300,button:1},r=function(t){t.stopDefaults()},o=function(t){var e,i=this.fetch("event:btnclick:options");if("dblclick"===t.type||t.button===i.button)if(this.fetch("event:btnclick:ignore"))this.del("event:btnclick:ignore");else if("mousedown"===t.type)e=new n(t,this),this.store("event:btnclick:btnclickEvent",e);else if("mouseup"===t.type){if(!(e=this.fetch("event:btnclick:btnclickEvent")))return;var r=t.pageXY;this.del("event:btnclick:btnclickEvent"),e.pushToEvents(t),t.timeStamp-e.timeStamp<=i.threshold&&Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2))<=5&&this.callEvent("btnclick",e),u(s).callEvent("mouseup",t)}else"dblclick"===t.type&&(e=new n(t,this),this.callEvent("btnclick",e))},a={add:function(t){this.store("event:btnclick:options",Object.assign(e.detach(i),t||{})),this.addEvent(["mousedown","mouseup"],o,1).addEvent("click",r,1)},remove:function(){this.removeEvent(["mousedown","mouseup"],o).removeEvent("click",r)}};e.Events.handlers.btnclick=a}(c),function(e){var n=function(e){"use strict";function n(t,n,i){var r;r=e.call(this,t)||this;var o=t.pageXY;return r.x=o.x,r.y=o.y,r.type="mousedrag",r.clientX=t.clientX,r.clientY=t.clientY,r._target=n.node,r.state=i,r.dragged=!1,r.pushToEvents(t),r}return t.inheritsLoose(n,e),n}(e.Events.Custom),i=function(t){if(1===t.button){var e=new n(t,this,"dragstart");this.store("event:mousedrag:dragstart",e)}},r=function(t){var e=this.fetch("event:mousedrag:dragstart");e&&(t.stopDefaults(),e=new n(t,this,"dragend"),this.del("event:mousedrag:dragstart"),this.callEvent("mousedrag",e))},o=function(t){var e=this.fetch("event:mousedrag:dragstart");e&&(t.stopDefaults(),e.dragged||(e.dragged=!0,this.callEvent("mousedrag",e)),e=new n(t,this,"dragmove"),this.callEvent("mousedrag",e))},a={add:function(){var t=o.bind(this),e=r.bind(this);this.addEvent("mousedown",i,1).addEvent("mouseup",r,1),u(s).addEvent("mousemove",t,1).addEvent("mouseup",e,1),this.store("event:mousedrag:listeners:document:move",t),this.store("event:mousedrag:listeners:document:end",e)},remove:function(){var t=function(){};this.removeEvent("mousedown",i).removeEvent("mouseup",r),u(s).removeEvent("mousemove",this.fetch("event:mousedrag:listeners:document:move")||t).removeEvent("mouseup",this.fetch("event:mousedrag:listeners:document:end")||t),this.del("event:mousedrag:listeners:document:move").del("event:mousedrag:listeners:document:end")}};e.Events.handlers.mousedrag=a}(c),function(e){var n=function(e){"use strict";function n(t,n){var i;i=e.call(this,t)||this;var r=t.pageXY;return i.x=r.x,i.y=r.y,i.type="dblbtnclick",i.clientX=t.clientX,i.clientY=t.clientY,i._target=n.node,i.timedout=!1,i.tm=null,i.pushToEvents(t),i}return t.inheritsLoose(n,e),n}(e.Events.Custom),i={threshold:200},r=function(t){var i=this,r=this.fetch("event:dblbtnclick:event");if(r)clearTimeout(r.tm),this.del("event:dblbtnclick:event"),r.timedout||(r.pushToEvents(t),t.stopQueue().stop(),this.callEvent("dblbtnclick",r));else{var o=this.fetch("event:dblbtnclick:options");(r=new n(t,this)).tm=setTimeout((function(){r.timedout=!0,t.isQueueStopped=e.$false,i.callEvent("btnclick",t),i.del("event:dblbtnclick:event")}),o.threshold+10),this.store("event:dblbtnclick:event",r),t.stopQueue()}},o={add:function(t){this.store("event:dblbtnclick:options",Object.assign(e.detach(i),t||{})),this.addEvent("btnclick",r,1)},remove:function(){this.removeEvent("btnclick",r)}};e.Events.handlers.dblbtnclick=o}(c),function(e){var n=function(e){"use strict";function n(t,n){var i;i=e.call(this,t)||this;var r=t.primaryTouch;return i.type="tap",i.id=r.pointerId||r.identifier,i.x=r.pageX,i.y=r.pageY,i.pageX=r.pageX,i.pageY=r.pageY,i.clientX=r.clientX,i.clientY=r.clientY,i._target=n.node,i.pushToEvents(t),i}return t.inheritsLoose(n,e),t.createClass(n,[{key:"button",get:function(){return 0}}]),n}(e.Events.Custom),i=function(t){t.stopDefaults()},r=function(t){t.isPrimaryTouch()?(this.store("event:tap:event",new n(t,this)),this.store("event:btnclick:ignore",!0)):this.del("event:tap:event")},o=function(t){var e=this.fetch("event:tap:event");e&&t.isPrimaryTouch()&&(this.del("event:tap:event"),e.id===t.primaryTouchId&&t.timeStamp-e.timeStamp<=200&&Math.sqrt(Math.pow(t.primaryTouch.pageX-e.x,2)+Math.pow(t.primaryTouch.pageY-e.y,2))<=10&&(this.del("event:btnclick:btnclickEvent"),t.stop(),e.pushToEvents(t),this.callEvent("tap",e)))},s={add:function(t){this.addEvent(["touchstart","pointerdown"],r,1).addEvent(["touchend","pointerup"],o,1).addEvent("click",i,1)},remove:function(){this.removeEvent(["touchstart","pointerdown"],r).removeEvent(["touchend","pointerup"],o).removeEvent("click",i)}};e.Events.handlers.tap=s}(c),function(e){var n=function(e){"use strict";function n(t,n){var i;return(i=e.call(this,t)||this).type="dbltap",i.x=t.x,i.y=t.y,i.clientX=t.clientX,i.clientY=t.clientY,i._target=n.node,i.timedout=!1,i.tm=null,i.pushToEvents(t),i}return t.inheritsLoose(n,e),n}(e.Events.Custom),i={threshold:300},r=function(t){var i=this,r=this.fetch("event:dbltap:event");if(r)clearTimeout(r.tm),this.del("event:dbltap:event"),r.timedout||(r.pushToEvents(t),t.stopQueue().stop(),this.callEvent("dbltap",r));else{var o=this.fetch("event:dbltap:options");(r=new n(t,this)).tm=setTimeout((function(){r.timedout=!0,t.isQueueStopped=e.$false,i.callEvent("tap",t)}),o.threshold+10),this.store("event:dbltap:event",r),t.stopQueue()}},o={add:function(t){this.store("event:dbltap:options",Object.assign(e.detach(i),t||{})),this.addEvent("tap",r,1)},remove:function(){this.removeEvent("tap",r)}};e.Events.handlers.dbltap=o}(c),function(e){var n=function(e){"use strict";function n(t,n,i){var r;r=e.call(this,t)||this;var o=t.primaryTouch;return r.type="touchdrag",r.id=o.pointerId||o.identifier,r.clientX=o.clientX,r.clientY=o.clientY,r.pageX=o.pageX,r.pageY=o.pageY,r.x=o.pageX,r.y=o.pageY,r._target=n.node,r.state=i,r.dragged=!1,r.pushToEvents(t),r}return t.inheritsLoose(n,e),t.createClass(n,[{key:"button",get:function(){return 0}}]),n}(e.Events.Custom),i=function(t){if(t.isPrimaryTouch()){var e=new n(t,this,"dragstart");this.store("event:touchdrag:dragstart",e)}},r=function(t){var e=this.fetch("event:touchdrag:dragstart");e&&e.dragged&&e.id===t.primaryTouchId&&(e=new n(t,this,"dragend"),this.del("event:touchdrag:dragstart"),this.callEvent("touchdrag",e))},o=function(t){var e=this.fetch("event:touchdrag:dragstart");e&&t.isPrimaryTouch()&&(e.id===t.primaryTouchId?(!e.dragged&&Math.sqrt(Math.pow(t.primaryTouch.pageX-e.x,2)+Math.pow(t.primaryTouch.pageY-e.y,2))>10&&(e.dragged=!0,this.callEvent("touchdrag",e)),e.dragged&&(e=new n(t,this,"dragmove"),this.callEvent("touchdrag",e))):this.del("event:touchdrag:dragstart"))},a={add:function(){var t=o.bind(this),e=r.bind(this);this.addEvent(["touchstart","pointerdown"],i,1).addEvent(["touchend","pointerup"],r,1).addEvent(["touchmove","pointermove"],o,1),this.store("event:touchdrag:listeners:document:move",t),this.store("event:touchdrag:listeners:document:end",e),u(s).addEvent("pointermove",t,1).addEvent("pointerup",e,1)},remove:function(){var t=function(){};this.removeEvent(["touchstart","pointerdown"],i).removeEvent(["touchend","pointerup"],r).removeEvent(["touchmove","pointermove"],o),u(s).removeEvent("pointermove",this.fetch("event:touchdrag:listeners:document:move")||t,1).removeEvent("pointerup",this.fetch("event:touchdrag:listeners:document:end")||t,1),this.del("event:touchdrag:listeners:document:move").del("event:touchdrag:listeners:document:end")}};e.Events.handlers.touchdrag=a}(c),function(e){var n=null,i=e.$,r=function(t,e){var n=e.x-t.x,i=e.y-t.y;return Math.sqrt(n*n+i*i)},o=function(t,e){var n,i=t.originEvent;return i.targetTouches&&i.changedTouches?(n=i.targetTouches?i.targetTouches:i.changedTouches,n=Array.prototype.slice.call(n)):(n=[],e&&e.forEach((function(t){n.push(t)}))),n},a=function(t,e,n){return!(!t.pointerId||"touch"!==t.pointerType||n&&!e.has(t.pointerId))&&(e.set(t.pointerId,t),!0)},c=function(t){return t.pointerId&&"touch"===t.pointerType?t.pointerId:t.identifier},h=function(t,e){for(var n=!1,i=0;i<t.length&&2!==e.length;i++){var r=c(t[i]);e.includes(r)||(e.push(r),n=!0)}return n},u=function(t,e){var n=!1;if(e)for(var i=function(t){return t.map((function(t){return c(t)}))}(t),r=0;r<e.length;r++)if(!i.includes(e[r])){e.splice(r,1),n=!0;break}return n},l=function(t,e){for(var n=[],i=0;i<t.length&&(!e.includes(c(t[i]))||(n.push(t[i]),2!==n.length));i++);return n},d=function(t){var e=t.fetch("event:pinch:target");e&&e.removeEvent(["touchend"],t.fetch("event:pinch:listeners:document:end")),t.del("event:pinch:target")},f=function(t){var e=t.fetch("event:pinch:cache");e&&e.clear(),t.del("event:pinch:cache")},p=function(e){"use strict";function n(t,n,i,r){var o;return(o=e.call(this,t)||this).type="pinch",o._target=n.node,o.state=i,o.x=r.x,o.y=r.y,o.scale=r.scale,o.space=r.space,o.zoom=r.zoom,o.state=i,o.centerPoint=r.centerPoint,o.points=r.points,o.pushToEvents(t),o}return t.inheritsLoose(n,e),n}(e.Events.Custom),g={x:0,y:0,space:0,scale:1,zoom:0,startSpace:0,startScale:1,started:!1,dragged:!1,points:[],centerPoint:{x:0,y:0}},m=function(t,e){var i=e.space;t.length>1?(e.space=function(t,e){var n,i=Array.prototype.slice.call(t),o=Math.abs(i[1].pageX-i[0].pageX),s=Math.abs(i[1].pageY-i[0].pageY),a=Math.min(i[1].pageX,i[0].pageX)+o/2,c=Math.min(i[1].pageY,i[0].pageY)+s/2;return e.points=[i[0],i[1]],n=Math.pow(r({x:i[0].pageX,y:i[0].pageY},{x:i[1].pageX,y:i[1].pageY}),2),e.centerPoint={x:a,y:c},e.x=e.centerPoint.x,e.y=e.centerPoint.y,n}(t,e),e.startSpace||(e.startSpace=e.space),i>e.space?e.zoom=-1:i<e.space?e.zoom=1:e.zoom=0,e.scale=e.space/n):e.points=[]},v=function(t){var n,i=this.fetch("event:pinch:variables"),r=this.fetch("event:pinch:cache"),s=this.fetch("event:pinch:activepoints");if(i||(i=Object.assign({},e.detach(g))),i.started){if(t.pointerId&&!a(t,r,!0))return;t.stop(),m(l(o(t,r),s),i),n=new p(t,this,"pinchmove",i),this.callEvent("pinch",n)}},y=function(t){var r,s,c=this.fetch("event:pinch:cache"),u=this.fetch("event:pinch:activepoints");if("mouse"!==t.pointerType){u||(u=[],this.store("event:pinch:activepoints",u)),c||(c=new Map,this.store("event:pinch:cache",c)),this.fetch("event:pinch:target")||(this.store("event:pinch:target",i(t.target)),i(t.target).addEvent(["touchend"],this.fetch("event:pinch:listeners:document:end"),1)),a(t,c);var d=o(t,c);h(d,u),2===d.length&&(r=this.fetch("event:pinch:pinchstart"),(s=this.fetch("event:pinch:variables"))||(s=Object.assign({},e.detach(g))),m(l(d,u),s),r||(r=new p(t,this,"pinchstart",s),this.store("event:pinch:pinchstart",r),this.store("event:pinch:variables",s),n=s.space,this.callEvent("pinch",r),s.started=!0))}},S=function(t){var e=this.fetch("event:pinch:cache");if("mouse"!==t.pointerType&&(!t.pointerId||e&&e.has(t.pointerId))){var n=this.fetch("event:pinch:pinchstart"),i=this.fetch("event:pinch:variables"),r=this.fetch("event:pinch:activepoints"),s=o(t,e);!function(t,e){t.pointerId&&"touch"===t.pointerType&&e&&e.has(t.pointerId)&&e.delete(t.pointerId)}(t,e);var a=u(s,r);if(n&&i&&i.started&&a&&r){a&&h(s,r);var c="pinchend";s.length>1?c="pinchresize":(this.del("event:pinch:pinchstart").del("event:pinch:variables").del("event:pinch:activepoints"),f(this),d(this)),m(l(s,r),i),n=new p(t,this,c,i),this.callEvent("pinch",n)}}},w={add:function(t){var o;n||((o=e.W.size).width=Math.min(o.width,o.height),o.height=o.width,n=Math.pow(r({x:0,y:0},{x:o.width,y:o.height}),2));var a=v.bind(this),c=S.bind(this);this.addEvent(["touchstart","pointerdown"],y,1).addEvent(["pointerup"],S,1).addEvent(["touchmove","pointermove"],v,1),this.store("event:pinch:listeners:document:move",a),this.store("event:pinch:listeners:document:end",c),i(s).addEvent("pointermove",a,1).addEvent("pointerup",c,1)},remove:function(){this.removeEvent(["touchstart","pointerdown"],y).removeEvent(["pointerup"],S).removeEvent(["touchmove","pointermove"],v);var t=function(){};i(s).removeEvent("pointermove",this.fetch("event:pinch:listeners:document:move")||t,1).removeEvent("pointerup",this.fetch("event:pinch:listeners:document:end")||t,1),this.del("event:pinch:listeners:document:move").del("event:pinch:listeners:document:end"),d(this),f(this),this.del("event:pinch:variables").del("event:pinch:activepoints").del("event:pinch:pinchstart")}};e.Events.handlers.pinch=w}(c),function(e){var n="wheel";"onwheel"in s||e.browser.ieMode>8||(n="mousewheel");var i,r,a=function(e){"use strict";function n(t,n,i,r,o,s,a){var c;c=e.call(this,t)||this;var h=t.pageXY;return c.x=h.x,c.y=h.y,c.type="mousescroll",c._target=n.node,c.delta=i||0,c.deltaX=r||0,c.deltaY=o||0,c.deltaZ=s||0,c.deltaFactor=a||0,c.deltaMode=t.deltaMode||0,c.isMouse=!1,c.pushToEvents(t),c}return t.inheritsLoose(n,e),n}(e.Events.Custom),c=function(){i=null},h=function(t){var n=0,s=0,h=t.originEvent;if(h.detail&&(s=-1*t.detail),h.wheelDelta!==o&&(s=h.wheelDelta),h.wheelDeltaY!==o&&(s=h.wheelDeltaY),h.wheelDeltaX!==o&&(n=-1*h.wheelDeltaX),h.deltaY&&(s=-1*h.deltaY),h.deltaX&&(n=h.deltaX),0!==s||0!==n){var u=0===s?n:s,l=Math.max(Math.abs(s),Math.abs(n));(!i||l<i)&&(i=l);var d=u>0?"floor":"ceil";u=Math[d](u/i),n=Math[d](n/i),s=Math[d](s/i),r&&clearTimeout(r),r=setTimeout(c,200);var f,p,g=new a(t,this,u,n,s,0,i);g.isMouse=(f=i,p=h.deltaMode||0,f>50||1===p&&!("win"===e.browser.platform&&f<1)||f%12==0||f%4.000244140625==0),this.callEvent("mousescroll",g)}},u={add:function(){this.addEvent(n,h,1)},remove:function(){this.removeEvent(n,h,1)}};e.Events.handlers.mousescroll=u}(c),h.W=h.$(r),h.D=h.$(s),h.U=o,h.DPPX=window.devicePixelRatio>=2?2:1,c}(),function(t){var e=t.$,n={linear:"linear",sineIn:"easeInSine",sineOut:"easeOutSine",expoIn:"easeInExpo",expoOut:"easeOutExpo",quadIn:"easeInQuad",quadOut:"easeOutQuad",cubicIn:"easeInCubic",cubicOut:"easeOutCubic",backIn:"easeInBack",backOut:"easeOutBack",elasticIn:function(t,e){return e=e||[],Math.pow(2,10*--t)*Math.cos(20*t*Math.PI*(e[0]||1)/3)},elasticOut:function(t,e){return 1-n.elasticIn(1-t,e)},bounceIn:function(t){for(var e=0,n=1;;e+=n,n/=2)if(t>=(7-4*e)/11)return n*n-Math.pow((11-6*e-11*t)/4,2)},bounceOut:function(t){return 1-n.bounceIn(1-t)},none:function(t){return 0}},i={INIT:0,STARTED:1,PLAYING:2,ENDED:3},r=function(){"use strict";function r(n,r){var o=this;this.styles=null,this.cubicBezier=null,this.easeFn=null,this.state=i.INIT,this.pStyles=[],this.alternate=!1,this.continuous=!1,this.startTime=null,this.finishTime=null,this.options={fps:60,duration:600,transition:"ease",cycles:1,direction:"normal",onStart:function(){},onComplete:function(){},onBeforeRender:function(){},onAfterRender:function(){},forceAnimation:!1,roundCss:!1},this.els=[],Array.isArray(n)||(n=[n]),n.forEach((function(t){t&&o.els.push(e(t))})),this.options=Object.assign(this.options,r),this.timer=!1,this.setTransition(this.options.transition),"string"===t.typeOf(this.options.cycles)&&(this.options.cycles="infinite"===this.options.cycles?1/0:parseInt(this.options.cycles,10)||1)}r.getTransition=function(){return n};var o=r.prototype;return o.setTransition=function(e){this.options.transition=e,this.easeFn=r.cubicBezierAtTime;var i=n[this.options.transition]||this.options.transition;"function"===t.typeOf(i)?this.easeFn=i:this.cubicBezier=this.parseCubicBezier(i)||this.parseCubicBezier("ease")},o.start=function(e){var n=this,r=/\%$/;if(this.state===i.PLAYING)return this;this.state=i.STARTED,this.cycle=0,this.alternate=["alternate","alternate-reverse"].includes(this.options.direction),this.continuous=["continuous","continuous-reverse"].includes(this.options.direction),e||(e={}),Array.isArray(e)||(e=[e]),this.styles=e;var o=this.styles.length;this.pStyles=new Array(o);for(var s=0;s<o;s++)for(var a in this.pStyles[s]={},this.styles[s])r.test(this.styles[s][a][0])&&(this.pStyles[a]=!0),["reverse","alternate-reverse","continuous-reverse"].includes(this.options.direction)&&this.styles[s][a].reverse();return this.startTime=+new Date,this.finishTime=this.startTime+this.options.duration,this.options.onStart(),0===this.options.duration?(this.render(1),this.options.onComplete(this.els.length<2?this.els[0]:this.els)):(this.state=i.PLAYING,this.options.forceAnimation?this.timer=setInterval((function(){n.loop()}),Math.round(1e3/this.options.fps)):this.timer=t.W.node.requestAnimationFrame.call(t.W.node,this.loop.bind(this))),this},o.stopAnimation=function(){this.timer&&(this.options.forceAnimation?clearInterval(this.timer):t.W.node.cancelAnimationFrame.call(t.W.node,this.timer),this.timer=!1)},o.stop=function(e){return[i.INIT,i.ENDED].includes(this.state)||(t.defined(e)||(e=!1),this.stopAnimation(),this.state=i.ENDED,e&&(this.render(1),this.options.onComplete(this.els.length<2?this.els[0]:this.els))),this},o.loop=function(){var e=+new Date,n=(e-this.startTime)/this.options.duration,i=Math.floor(n);if(e>=this.finishTime&&i>=this.options.cycles)return this.stopAnimation(),this.render(1),this.options.onComplete(this.els.length<2?this.els[0]:this.els),this;if(this.alternate&&this.cycle<i)for(var r=0;r<this.styles.length;r++)for(var o in this.styles[r])this.styles[r][o].reverse();this.cycle=i,this.options.forceAnimation||(this.timer=t.W.node.requestAnimationFrame.call(t.W.node,this.loop.bind(this))),this.render((this.continuous?i:0)+this.easeFn(n%1,this.options.duration,this.cubicBezier))},o.render=function(t){for(var e=[],n=this.els.length,i=0;i<n;i++)e.push(this.renderOverLoad(t,this.els[i],this.styles[i],this.pStyles[i]));var r=this.els,o=e;n<2&&(r=this.els[0],o=e[0]),this.options.onBeforeRender(o,r),this.set(e),this.options.onAfterRender(o,r)},o.renderOverLoad=function(t,e,n,i){var r=this,o={};return Object.entries(n).forEach((function(e){var n=e[0],s=e[1];"opacity"===n?o[n]=Math.round(100*r.calc(s[0],s[1],t))/100:(o[n]=r.calc(s[0],s[1],t),i[n]&&(o[n]+="%"))})),o},o.calc=function(t,e,n){return t=parseFloat(t),((e=parseFloat(e))-t)*n+t},o.set=function(t){for(var e=0,n=this.els.length;e<n;e++)this.els[e].setCss(t[e]);return this},o.parseCubicBezier=function(n){var i=null;if("string"!==t.typeOf(n))return null;switch(n){case"linear":i=[0,0,1,1];break;case"ease":i=[.25,.1,.25,1];break;case"ease-in":i=[.42,0,1,1];break;case"ease-out":i=[0,0,.58,1];break;case"ease-in-out":i=[.42,0,.58,1];break;default:if((n=n.replace(/\s/g,"")).match(/^cubic-bezier\((?:-?[0-9\.]{0,}[0-9]{1,},){3}(?:-?[0-9\.]{0,}[0-9]{1,})\)$/))for(var r=(i=n.replace(/^cubic-bezier\s*\(|\)$/g,"").split(",")).length-1;r>=0;r--)i[r]=parseFloat(i[r])}return e(i)},r.cubicBezierAtTime=function(t,e,n){var i,r,o=0,s=0,a=0,c=0,h=0,u=0,l=function(t){return((o*t+s)*t+a)*t},d=function(t){return(3*o*t+2*s)*t+a};return a=3*n[0],s=3*(n[2]-n[0])-a,o=1-a-s,u=3*n[1],h=3*(n[3]-n[1])-u,c=1-u-h,i=t,r=function(t){return 1/(200*t)}(e),function(t){return((c*t+h)*t+u)*t}(function(t,e){var n,i,r,o,s,a,c=function(t){return t>=0?t:0-t};for(r=t,a=0;a<8;a++){if(c(o=l(r)-t)<e)return r;if(c(s=d(r))<1e-6)break;r-=o/s}if((r=t)<(n=0))return n;if(r>(i=1))return i;for(;n<i;){if(c((o=l(r))-t)<e)return r;t>o?n=r:i=r,r=.5*(i-n)+n}return r}(i,r))},r}();t.FX=r}(e),function(t){var e=null,n={boolean:1,array:2,number:3,function:4,url:5,string:100},r={boolean:function(n,i,r){if("boolean"!==t.typeOf(i)){if(r||"string"!==t.typeOf(i))return!1;if(!/^(true|false)$/.test(i))return!1;i=!i.replace(/true/i,"").trim()}return!(n.hasOwnProperty("enum")&&!n.enum.includes(i))&&(e=i,!0)},url:function(e,n,i){var r=!1;return"string"===t.typeOf(n)&&function(t){return/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/i.test(t)}(n)&&(e.hasOwnProperty("enum")?e.enum.includes(n)&&(r=!0):r=!0),r},string:function(n,i,r){return"string"===t.typeOf(i)&&(!(n.hasOwnProperty("enum")&&!n.enum.includes(i))&&(e=""+i,!0))},number:function(n,i,r){var o="string"===t.typeOf(i)&&/%$/.test(i);return(!r||!1!==typeof i)&&(i=parseFloat(i),!isNaN(i)&&(isNaN(n.minimum)&&(n.minimum=Number.NEGATIVE_INFINITY),isNaN(n.maximum)&&(n.maximum=Number.POSITIVE_INFINITY),!(n.hasOwnProperty("enum")&&!n.enum.includes(i))&&(!(n.minimum>i||i>n.maximum)&&(e=o?i+"%":i,!0))))},array:function(n,i,r){if("string"===t.typeOf(i))try{i=i.replace(/'/g,'"'),i=t.W.node.JSON.parse(i)}catch(t){return!1}return"array"===t.typeOf(i)&&(e=i,!0)},function:function(n,i,r){return"function"===t.typeOf(i)&&(e=i,!0)}},o=function(e,n,i){var o=e.hasOwnProperty("oneOf")?e.oneOf:[e];if("array"!==t.typeOf(o))return!1;for(var s=0,a=o.length-1;s<=a;s++)if(r[o[s].type](o[s],n,i))return!0;return!1},s=function(e){var n={},i=function(e,r){Object.entries(e).forEach((function(e){var o=e[0],s=e[1],a=r.slice(0);"object"!==t.typeOf(s)||function(t){return Object.keys(t).some((function(t){return"defaults"===t}))}(s)?(a.push(o),n[a.join(".")]=s):(a.push(o),i(s,a))}))};return i(e,[]),n},a=function(t){var e={};return Object.entries(t).forEach((function(t){var n,i,r,o;n=t[0].split("."),i=t[1],r=e,o=n.length,""===n[o-1].trim()&&n.splice(o-1,1),n.forEach((function(t,e){e===o-1?r[t]=i:(r[t]||(r[t]={}),r=r[t])}))})),e},c=function(e){return t.camelize((e+"").trim())},h=function(){"use strict";function h(t){this.schema={},this.options={},this.parseSchema(t)}var u=h.prototype;return u.parseSchema=function(e,a){var h=this;e=s(e),Object.entries(e).forEach((function(s){var u=s[0],l=s[1],d=c(u);if(!h.schema.hasOwnProperty(d)||a){if(h.schema[d]=function(t){if(t.hasOwnProperty("oneOf"))for(var e=t.oneOf.length,i=0;i<e;i++)for(var r=i+1;r<e;r++)if(n[t.oneOf[i].type]>n[t.oneOf[r].type]){var o=t.oneOf[i];t.oneOf[i]=t.oneOf[r],t.oneOf[r]=o}return t}(l),!function(e){var i=e.hasOwnProperty("oneOf")?e.oneOf:[e];if("array"!==t.typeOf(i))return!1;for(var s=i.length-1;s>=0;s--){if(!i[s].type||!n.hasOwnProperty(i[s].type))return!1;if(t.defined(i[s].enum)){if("array"!==t.typeOf(i[s].enum))return!1;for(var a=i[s].enum.length-1;a>=0;a--)if(!r[i[s].type]({type:i[s].type},i[s].enum[a],!0))return!1}}return!(e.hasOwnProperty("defaults")&&!o(e,e.defaults,!0))}(h.schema[d]))throw"Incorrect definition of the '"+i+"' parameter in "+e;t.defined(h.options[d])&&h.checkValue(d,h.options[d])||(h.options[d]=t.U)}}))},u.set=function(n,i){n=c(n),"string"===t.typeOf(i)&&(i=i.trim()),this.schema.hasOwnProperty(n)&&(e=i,o(this.schema[n],i)&&(this.options[n]=e),e=null)},u.get=function(e){if(e=c(e),this.schema.hasOwnProperty(e))return t.defined(this.options[e])?this.options[e]:this.schema[e].defaults},u.fromJSON=function(t){for(var e in t=s(t))this.set(e,t[e])},u.getJSON=function(){var e=this,n=Object.assign({},this.options);return Object.keys(n).forEach((function(i){n[i]===t.U&&e.schema[i].defaults!==t.U&&(n[i]=e.schema[i].defaults)})),a(n)},u.fromString=function(t,e){var n=this,i={};e||(e={});return t.split(";").forEach((function(t){var r;r=(r=t).trim(),Object.entries(e).find((function(t){var e=t[0],n=t[1];return!(!n.test||!n.test(r)||(i[e]||(i[e]=""),i[e]+=r+";",0))}))||(t=t.split(":"),n.set(t.shift().trim(),t.join(":")))})),i},u.checkValue=function(n,i){var r=!1;return n=c(n),"string"===t.typeOf(i)&&(i=i.trim()),this.schema.hasOwnProperty(n)&&(e=i,o(this.schema[n],i)&&(r=!0),e=null),r},u.exists=function(t){return t=c(t),this.schema.hasOwnProperty(t)},u.isset=function(e){return e=c(e),this.exists(e)&&t.defined(this.options[e])},u.remove=function(t){t=c(t),this.exists(t)&&(delete this.options[t],delete this.schema[t])},h}();t.Options=h}(e),e})),Sirv.define("globalVariables",["bHelpers","magicJS"],(function(t,e){e.$;for(var n,i="smv",r="https:",o="",s="",a=function(t){return n||(n=document.createElement("a")),n.setAttribute("href",t),("!!"+n.href).replace("!!","")},c=document.getElementsByTagName("script"),h=0,u=c.length;h<u;h++){var l=c[h].getAttribute("src")||"";if(null!==c[h].getAttribute("data-sirvjs-test"))o=a(l).replace(/([^#?]+)\/.*$/,"$1/");else if(/sirv\.(com|localhost(:\d+)?)\/(([^#?]+)\/)?sirv(_.+)?\.js([?#].*)?$/i.test(l)){s=a(l).replace(/(^https?:\/\/[^/]*).*/,"$1/"),o=a(l).replace(/([^#?]+)\/.*$/,"$1/"),/sirv\.localhost(:\d+)?\/(([^#?]+)\/)?sirv(_.+)?\.js([?#].*)?$/i.test(l)&&(r="http:");break}}return{SIRV_PREFIX:i,CSS_RULES_ID:"sirv-core-css-reset",SIRV_BASE_URL:s,CSS_CURSOR_ZOOM_IN:"smv-cursor-zoom-in",CSS_CURSOR_FULSCREEN_ALWAYS:"smv-cursor-fullscreen-always",REG_URL_QUERY_STRING:/([^\?]+)\??([^\?]+)?/,FULLSCREEN_VIEWERS_IDs_ARRAY:[],CUSTOM_DEPENDENCIES:null,MIN_RATIO:1.2,SIRV_HTTP_PROTOCOL:r,SIRV_ASSETS_URL:o,SLIDE_SHOWN_BY:{NONE:0,AUTOPLAY:1,USER:2,INIT:3,ENABLE:4},VIDEO:{NONE:0,PLAY:1,PAUSE:2,PLAYING:3},FULLSCREEN:{CLOSED:0,OPENING:1,OPENED:2,CLOSING:3},APPEARANCE:{HIDDEN:0,SHOWING:1,SHOWN:2,HIDING:3},SLIDE:{TYPES:{NONE:0,HTML:1,IMAGE:2,PANZOOM:3,ZOOM:4,SPIN:5,VIDEO:6},NAMES:["none","html","image","panzoom","zoom","spin","video"]}}})),Sirv.define("globalFunctions",["bHelpers","magicJS","globalVariables","helper"],(function(t,e,n,i){var r=e,o=r.$,s={},a=function(t){var e=t.replace(/^(https?:)?/,"https:");return/^(http(s)?:)?\/\/[^/]+?sirv\.localhost(:\d+)?\/.*$/i.test(t)&&(e=t.replace(/^(https?:)?/,"http:")),e},c=function(t){return t.replace(/^((?:https?:)?\/\/)([^/].*)/,(function(t,e,n){return e+n.split("/").map((function(t,e){return 0===e?t:function(t){try{t=decodeURIComponent(t)}catch(t){}return encodeURIComponent(t)}(t)})).join("/")}))},h=new(function(){"use strict";function t(){this.CSSMap={},this.sirvNodesMap=new WeakMap,this.rootNodesMap=new Map,this.rootNodes=[],this.sirvCSSSrc="viewer.css",this.mainCSSID="sirv-stylesheet-sirv"}t.getShadowDOM=function(e){var n=!1,i=(e=o(e).node).parentNode;return i&&window.ShadowRoot&&(n=i instanceof window.ShadowRoot?i:t.getShadowDOM(i)),n};var e=t.prototype;return e.rootContains=function(t){return this.rootNodes.some((function(e){return e===r.D.node&&(e=r.D.node.body),!!e&&e.contains(t)}))},e.addModuleCSSByName=function(t,e,n,i){this.CSSMap[t]||(this.CSSMap[t]={functionOfCssString:e,id:n,position:i})},e.getRootNode=function(e){e=o(e).node;var n=t.getShadowDOM(e),i=n||r.D.node;return this.rootNodesMap.has(i)||(this.rootNodesMap.set(i,{isResetCSSAdded:!1,isVideoCSSAdded:!1,isSirvAdAdded:!1,styles:{},modulesCss:{},isShadowDOM:!!n}),this.rootNodes.push(i)),i},e.attachNode=function(t){if(t=o(t).node,!this.sirvNodesMap.has(t)){var e=this.getRootNode(t);this.sirvNodesMap.set(t,e)}},e.detachNode=function(t){return t=o(t).node,this.sirvNodesMap.delete(t)},e.addCSSStringToHtml=function(){this.addCSSString(r.D.node.head||r.D.node.body)},e.addCSSString=function(t){var e=this;t||(t=r.D.node.head||r.D.node.body),t=o(t).node;var n=this.sirvNodesMap.get(t),s=this.rootNodesMap.get(n),a=null;s.isShadowDOM&&(a=n),Object.entries(this.CSSMap).forEach((function(t){var n=t[0],r=t[1];s.modulesCss[n]||(s.modulesCss[n]=1,i.addCss(r.functionOfCssString(),r.id,r.position,a,"#"+e.mainCSSID))}))},e.addMainStyleToHtml=function(){this.resetGlobalCSS(r.D.node.head||r.D.node.body),this.addStyle(r.D.node.head||r.D.node.body,n.SIRV_ASSETS_URL+this.sirvCSSSrc,this.mainCSSID,"#"+n.CSS_RULES_ID)},e.addMainStyle=function(t){return this.addMainStyleToHtml(),this.resetGlobalCSS(t),this.addStyle(t,n.SIRV_ASSETS_URL+this.sirvCSSSrc,this.mainCSSID,"#"+n.CSS_RULES_ID)},e.addStyle=function(t,e,n,r){t=o(t).node;var s=this.sirvNodesMap.get(t),a=this.rootNodesMap.get(s);return a.styles[n]||(a.styles[n]=new Promise((function(t,o){var c=null;a.isShadowDOM&&(c=s),i.loadStylesheet(e,n,c,r).then(t).catch(o)}))),a.styles[n]},e.resetGlobalCSS=function(t){t||(t=r.D.node.head||r.D.node.body),t=o(t).node;var e=this.sirvNodesMap.get(t),i=this.rootNodesMap.get(e);if(!i.isResetCSSAdded){i.isResetCSSAdded=!0;var s=null;i.isShadowDOM&&(s=e),r.addCSS(".smv",{display:"flex !important"},n.CSS_RULES_ID,s),r.addCSS(".smv.smv-selectors-top",{"flex-direction":"column-reverse"},n.CSS_RULES_ID,s),r.addCSS(".smv.smv-selectors-left",{"flex-direction":"row-reverse"},n.CSS_RULES_ID,s),r.addCSS(".smv.smv-selectors-right",{"flex-direction":"row"},n.CSS_RULES_ID,s),r.addCSS(".smv.smv-selectors-bottom",{"flex-direction":"column"},n.CSS_RULES_ID,s),r.addCSS(".smv-slides-box",{"flex-grow":1,"flex-shrink":1},n.CSS_RULES_ID,s),r.addCSS("figure > .Sirv",{"vertical-align":"top"},n.CSS_RULES_ID,s),r.addCSS(".Sirv > iframe, .Sirv > video",{display:"none"},n.CSS_RULES_ID,s),r.addCSS(":not(.smv) smv-thumbnail",{display:"none"},n.CSS_RULES_ID,s),r.addCSS(".Sirv, .Sirv .smv-component",{"-webkit-box-sizing":"border-box !important","-moz-box-sizing":"border-box !important","box-sizing":"border-box !important"},n.CSS_RULES_ID,s),r.addCSS("div.Sirv, div.Sirv div.smv-component, figure.Sirv, div.smv-component",{width:"100%",height:"100%",margin:0,"text-align":"center"},n.CSS_RULES_ID,s),r.addCSS("div.Sirv",{"max-height":"100%","block-size":"inherit"},n.CSS_RULES_ID,s),r.addCSS(".Sirv img",{width:"100%",height:"100%"},n.CSS_RULES_ID,s),r.addCSS("img.Sirv, .Sirv img",{"max-width":"100%"},n.CSS_RULES_ID,s),r.addCSS("img.Sirv:not([width]):not([height])",{width:"100%"},n.CSS_RULES_ID,s),r.addCSS("img.Sirv",{display:"inline-block","font-size":0,"line-height":0},n.CSS_RULES_ID,s),r.addCSS(".Sirv.smv-bg-image.smv-bg-contain, .Sirv.smv-bg-image.smv-bg-cover",{"background-repeat":"no-repeat","background-position":"center"},n.CSS_RULES_ID,s),r.addCSS(".Sirv.smv-bg-image.smv-bg-contain",{"background-size":"contain"},n.CSS_RULES_ID,s),r.addCSS(".Sirv.smv-bg-image.smv-bg-cover",{"background-size":"cover"},n.CSS_RULES_ID,s),r.addCSS("img.Sirv:not([src]), img.Sirv.sirv-image-loading:not([src])",{opacity:"0"},n.CSS_RULES_ID,s),r.addCSS("img.Sirv.sirv-image-loaded",{opacity:"1",transition:"opacity 0.5s linear"},n.CSS_RULES_ID,s)}},e.showSirvAd=function(t,e,i,s){if(!/^my.sirv.(com|localhost)$/i.test(r.D.node.location.hostname)){t||(t=r.D.node.head||r.D.node.body),t=o(t).node;var a=this.sirvNodesMap.get(t),c=null;this.rootNodesMap.get(a).isShadowDOM&&(c=a);var h="sirvCR"+Math.floor(Math.random()*+new Date);r.addCSS("#"+h,{display:"inline-block !important;",visibility:"visible !important;","z-index":"2147483647 !important;",width:"auto !important;",height:"auto !important;","max-width":"none !important;","max-height":"none !important;",transform:"none !important;",left:"auto !important;",top:"auto !important;",bottom:"8 !important;",right:"8 !important;",margin:"auto !important",padding:"0 !important",opacity:"1 !important;"},n.CSS_RULES_ID,c),r.addCSS("#crSirv"+h+" > img",{display:"inline-block !important;",visibility:"visible !important;",position:"static !important;",width:"90px !important;",height:"18px !important;","max-width":"none !important;","max-height":"none !important;",transform:"none !important;",margin:"0 !important",padding:"0 !important"},n.CSS_RULES_ID,c);var u=r.$new("a",{id:h,href:i,target:"_blank"});u.attr("style","position: absolute !important; opacity: 1 !important"),u.setCss({display:"inline-block",overflow:"hidden",visibility:"visible","font-size":0,"font-weight":"normal","font-family":"sans-serif",bottom:8,right:8,margin:"auto",width:"auto",height:"auto",transform:"none","z-index":2147483647}).appendTo(e).addEvent(["tap","btnclick"],(function(t){t.stopDistribution(),r.W.node.open(u.attr("href"))})).append(r.$new("img",{width:90,height:18,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALQAAAAkCAYAAAAgqxBxAAAMJ0lEQVR4nO1ce5AUxRnv4yH4wCfREogIqFHOI94uVoSNMnFvZ6e/30+TGB/BRFPRUomWRiMKd2tUTKEWKlGSCBKCxtJSSKkxKLhnKqaiJvgOYjSAAhdQ8EDkIYgm8fLH9hzNZGZn9+68o8r5VU3V7fbXX389+5vu79FzSiVIkCBBggQJegiu6w4DMIlkkeRKklsBbCG5EsAzJKeJyCnldDiOs5/neaO6y+YECUJBciaAz0i2xV0AFmut+wV1iMhoAK1GZqnjOAN7Yi4JvsDQWu9PckkIaTcBWAbgHZI7Am1vKqV6BXUBWBzQ87MemFKCLzJIvhIg671a63Gu6+7ryziOMxBAA4DpADYDuDRC14qArl9130wSfOEhIpcFCPjduD75fP5gx3H2C2sDcJal62MAx3W91QkShKMGwDqL0DO7QimAsQAubGhoOKIr9CVIUBHy+XxtYHUe3tM2JUjQYWitT7PI/EFP25MgQadA8kxrhd7mOE6fnrYpk8kMEJHRnud9padtSRADkm0NDQ0HRLU3NDQcAWBzd9njed7XbZdDa31SZ3WKSB2AR80133GcA+1213W/bLXf5H+fzWYPATAHwAdmx1jjt+Xz+YMBPALgIZIPxxV2gkhNLp6TamqeV18oPlxfKM7p7BwTGOxphM5kMgNI/tdyO57urE7bjTHXYLsdwHFW2/umz5BAcNoGYIvfx3GcPradJP9cjU2pQnFdqtDclio0t9UXis93do4JDPY0QiulFIB7AkS6Kb5XNLTWp1r6Pslms4fZ7SQHW+RcaL5bGXgI/gNgmVKqxu8nIj+xZTKZzIBK7Plq45PH+GROFZrbUpOL6c7ML4GFPZHQjuMcCODfAUI9lsvlBnVEXxyhXdc9lOQnfgGHZKP1MP0GwNhcLjcon88frqxKZD6fPzzgHp1TiT31heYpu1bn5tWVTqKfiAw1N6EmTh7AQQCGl/txuwqmwjU87NxBEFrrfp7nHWl+hOA8anK53CARGVpB8FRDcrCIDLXHrZbQ/n0123bsfe0oAJwccl5jB8lpWush1eiKI3Q2mz3EKqOvB7DTkPkHFdj5nKV7QSX2pJqKS9tX56ZiIcrokQCeBnAQybnGsKUAVgFYJyITwvp5npcl+aI5vLKE5EZzyCVjGV0AMCOsP8lbSD4c0fZrABf6n0UkZ8ZoIfmqGWt2Op3ex+4H4HXHcfqIyDUkN5JcYUq7x1kyFwNYTfKfJJcAaAXQpEJIJiJXkHwXwCqSb5B8n+TMdDq9D4CdlRDacZz9ANxN8n1zX1cDeE9ErvLHBPAQgO9H6TIrWktwvlEwxZDWEGJ/AuC+Sit+cYQ2nNkecHNmVaKb5EVWn521tbV7lZOvb1w40nY3aictCC/0iEgdyQ0A/iIil6TT6b5W2wkkV4jINYE+3zE/rqhdROhtSqUbtNauUu2Rd0vIsDWGVOtDyq41ANb5qR6t9bcArNFaj/MFMpnMAADzADxlja9ItgC4EsDvABwUHBTATwG8TPJo/zsTxLwAYGpAdgrJN0Skzv/OcZz+ACaSXEByaxyhzcOwSEQm2DuByR68TvIW8/lsAM9E6SJ5LYD7otrDYDINs0JI7V932b91GCohNICPLJntjuP0r9S+atyOVFOx0O5uNBWfixQ0hG4jeWNYu+d5o0hu9yeTTqf3IblRa31qmDzJMwGsMU9cbwCbXdc91pbRWmdIPgtgnoicbbcBON5/CMzq1gpgbHAcQ67V/sNjxm4B8HrY0661HklyY/BHMfdgKMkdxtdTnucdSXK71npE2ByNvxjrcvjEidAxnOQO13WH1dbW7kVyg+u6wyJk3wRwctRY5SAiJwCYjdI56OAJvGX5fL42qm+1hAYwrxrbAPze6ju/nGyqqfiWRegLyk24zvw4kbV6AM8DuMDIjwfwUoyhy0WE5u/5InJFYMw7jVtwUdDtMCvsHCN3HoDIpxHA7SR/6X82hL48Yp53AvhFGV3NvptjVuHHomSNu1URoT3PO7HMmE8AmGj+niEiNwRltNYnAViuOul3mxXxRpJbg25I1IPbAUJfXY1NZqdvLwZFxUappkWjdvnOzZ8edfnC6BjKbH8flRsYwAwA083f0wH8PEZ+Ns3ZWQAXAHjCau4FYC3Jo3O53CAAmwPB1gKYU2IA7gFwa9Q4JC8ybof/uSWqoADghXLbGoC7ReRm8/dDACZFyWaz2cMqJXS5ABbAFN+V0FrXk1ypAsQFMEtEJkfpqBau6x4K4NHASr1GKdU7KNsBQp9RjS2O4/Qnuc3vLyLfDJOzsxuppubyu4Ah9JoYmetI3q+UUiQfjLvBAG4CMFsppXK53CD76UMpCn/Fkn1Oa32aUkql0+m+JpAaaNoeB/ABgHfCLuPHP+vrItli+7wBm9YanzZK14cA7jZ6/ogykbopDlSS5fi43H0yxz3bI3yWAl7H/zxmzJi9WQpuB4cq6AQAzAmQ+sqgTLWE1lrrDtjxgEXo34bJpArFt31CnzB5kVNWoSF0a8yg15Oc6xuAUlagnPxUWIfBAfwdwDfM3zNINlrjX+Xr1lpnALxs9XtcRK4xNy70spPyMYReo7V2y+nyswgA/kTy/Kj5pdPpvhUSeme5+0Tyx7ZrA+ByAPda92Z8YHfrUgBYbhH67WB7tYT23cxqICJeIKjcLY1a11g81vKdy/LUV1gH4NNy+VgAs/3tWERu9lffKARXcZZSdD9TpZzuu7SyDCYgW6+U6iUik20XA6Uo/ZbYSewapxyhXwBwViV6AMwjeW1Uu18YqMTlKJdqA3Cbvyso1e7nbrQerCeq3carQcgLAbsdOe0OQiulFMkPfR2e52XttlSheJuVe55WyaTqSLbl8/lUmQFXWEFeA4BVKuQdNKXat+P1dj5aRE4h+azWuh7AayH6X/Q870SSf7AnJCLjSb4aO4ldeiIJTXKaH2zGwQSskUEhAFThQ4+LkgHwkoicF/huvoic6zjOQJLvxuVnOwOTlrVTZ67d3l2ENjFXqNtR3/TUivYVunHhyEomVYfS28FzI9rPBbDayln2YqkgEfoeGoBJxm1oD27MFr3e+OKNwT4s5VmvN25BexA1ZsyYvY3v+73YiajyhNZajzC+fH2cHq31EJJbtdahNxDAkwA+q4TQiEhHkRSSG4N5eK21NoHxpSTviLO1MzDpSTvjIQFbuoXQIvI1a5wdjqPavYX6QnGOIXRlC5sh9FIAj5C8S0SOUUrVmGN+l7JUKBkX7GMIeoPrusPS6XTffD5/FIBbAaxFSCUKpWLHWtvd8GH6rgWwKNhm/OpWAFO01iMcx+njOE5/z/NGAZgoIqN92XKENnb/EECriEwwgVZNJpMZYFJjU13XPdSSnQBgDYAzDOl6marqAyYF+I8KfOjnSc4FMMcUino1NDQcgFLmp9UPhgPobYLUJQCOj9LfFRCR0Tahg7t0dxHa6HrP13O6m835348qPHNSqtDclmpsjnQBg5OqA7DKlIyvMpH2BgDvoVT4iFrxhgCYhVIpd5MJMO7yixNBkPw2ylS7ANwXtRKb1W4mgOVmrLUk/yoi12mtv2SN8WBUccIaJ43SWdwWAJtYKqcXReSyYIoNQN6sxuvMQ7UYpkRtHoB9w0cppcdMhbWGpfTiYuu+PgIg8qQYgNsBLC43j64AgIJF2K3BymE3E/rWMLfjsInFfeubiu+OaipW9nCb1TasPJ2ghwDgSRG55PMcw8Q6G6yA8N6gTHcS2vbnAWyy21JNi0aps+b/X548SlFC6D0IxlXZorXev5p+psQ93XabomCyKX8LuBtHBeW6k9BG37JdAaoberQiFgmh9yyQvCMuLRoGa8veZty38wEcr7XeX2vdz8REYwFMZalYY6frQkvW3U1olkrzJZt4etX3QCmVEHpPgO+7m8LP5rDAOQ4mHgg7VbeVpYrq9rB2BE4ZBuw61ZL7NO74aGcJ7bruMGu8dR1SkhC654HSwagtJP8F4PSO6NBanwbg6QhSh12vRGRZdtMZ6LNbCd7kytssQo/viO02ALy5y+1gWfui0Ls73jZJEIvKgp4YaK1HAPgRyftReivkDZJvAXgNwFMicnOlb1obf34igKsBXBmsejqO019ErjAyE9EF/9wGwMVmV9nGzzkPnyBBggQJugP/A94x91x//ZrKAAAAAElFTkSuQmCC"}).setProps({alt:s}))}},t}()),u={rootDOM:h,loadJsFile:function(t,e){return s[t]||(s[t]=function(t,e){return new Promise((function(n,i){var o=r.$new("script");o.attr("type","text/javascript"),o.node.onload=n,o.node.onerror=i,o.attr("src",t),o.appendTo(e||r.D.node.head)}))}(t,e)),s[t]},loadCssFile:function(t,e,n,i){return s[e]||(s[e]=h.addStyle(t,e,n,i)),s[e]},viewerFilters:[],getNodeWithSirvClassName:function(t){var e=null;return t&&(e=(t=o(t)).hasClass("Sirv")?t.node:u.getNodeWithSirvClassName(t.node.parentNode)),e},iconsHash:{nodes:[],elements:[[{classes:["smv-arrow-control"]},{classes:["smv-arrow"]},{classes:["smv-icon"]}],[{classes:["smv-button-fullscreen-open"]},{classes:["smv-icon"]}],[{classes:["smv-button-fullscreen-close"]},{classes:["smv-icon"]}],[{classes:["smv-thumbnails"]},{classes:["smv-selector"],attrs:[{name:"data-type",value:"spin"}]}]],waitBody:function(){return new Promise((function(t,e){var n=document.body;n?t(n):setTimeout((function(){u.iconsHash.waitBody().then(t)}),16)}))},make:function(){u.iconsHash.elements.forEach((function(t){var e=[];t.reverse().forEach((function(t){var n=r.$new("div");t.classes&&t.classes.forEach((function(t){n.addClass(t)})),t.attrs&&t.attrs.forEach((function(t){n.attr(t.name,t.value)})),e.push(n)}));for(var n=1,i=e.length;n<i;n++)e[n].append(e[n-1]);u.iconsHash.nodes.push(e[e.length-1])})),u.iconsHash.nodes.forEach((function(t){t.setCss({top:"-10000px",left:"-10000px",width:"10px",height:"10px",position:"absolute",visibility:"hodden",opacity:0}),u.iconsHash.waitBody().finally((function(){r.$(r.D.node.body).append(t)}))}))},remove:function(){u.iconsHash.nodes.length&&(u.iconsHash.nodes.forEach((function(t){t.remove()})),u.iconsHash.nodes=[])}},adjustURL:function(t){return/^(http(s)?:)?\/\//.test(t)||(t=n.SIRV_BASE_URL+t),a(t).replace(/([^:])\/+/g,"$1/")},normalizeURL:function(t){return c(a(t))}};return u.rootDOM.attachNode(r.D.node.head||r.D.node.body),u}));var _this=this;Sirv.define("helper",["bHelpers","magicJS","globalVariables"],(function(t,e,n){var i=e,r=i.$,o={},s=function(){"use strict";function t(){this.started=!1,this.callbacks=[]}var e=t.prototype;return e.wait=function(t){this.started?t():this.callbacks.push(t)},e.start=function(){this.started||(this.started=!0,this.callbacks.forEach((function(t){return t()})))},e.destroy=function(){this.callbacks=[]},t}();o.WaitToStart=s,o.addCss=function(t,e,n,o,s){var a,c=document.head||document.body,h=i.$new("style",{type:"text/css"});h.attr("id",e||"sirv-module-"+h.$J_UUID),n||(n="top"),o&&(c=r(o).node||o),"top"===n&&(a=c.firstChild);var u=c.querySelector(s);return u&&u.nextSibling&&(a=u.nextSibling),c.insertBefore(h.node,a),h.node.innerHTML=t,h},o.cleanQueryString=function(t){return t=(t=(t=(t=(t=(t=t.replace(/&+/g,"&")).replace(/&$/,"")).replace(/\?&/,"?")).replace(/profile=&|profile=$/g,"")).replace(/image=&/g,"image&")).replace(/image=$/g,"image")},o.createReadOnlyProp=function(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1})};var a,c,h,u,l,d,f,p,g,m,v,y,S,w,b,E,_,I,x,O,N,C;return o.debounce=function(t,e,n){var r,o,s,a,c,h,u,l=0,d=!1,f=!1,p=!0,g=!e&&0!==e&&i.browser.features.requestAnimationFrame;if("function"!=typeof t)throw new TypeError("Expected a function");e=+e||0,(u=n)&&"object"==typeof u&&u.constructor===Object&&(d=!!n.leading,s=(f="maxWait"in n)?Math.max(+n.maxWait||0,e):s,p="trailing"in n?!!n.trailing:p);var m=function(e){var n=r,s=o;return r=i.U,o=r,l=e,a=t.apply(s,n)},v=function(t,e){return g?(i.browser.cancelAnimationFrame(c),i.browser.requestAnimationFrame(t)):setTimeout(t,e)},y=function(t){var n=t-h,r=t-l;return h===i.U||n>=e||n<0||f&&r>=s},S=function(t){return c=i.U,p&&r?m(t):(r=i.U,o=r,a)},w=function(){var t=Date.now();return y(t)?S(t):(c=v(w,function(t){var n=t-l,i=e-(t-h);return f?Math.min(i,s-n):i}(t)),i.U)},b=function(t){return l=t,c=v(w,e),d?m(t):a},E=function(){for(var t=Date.now(),n=y(t),s=arguments.length,u=new Array(s),l=0;l<s;l++)u[l]=arguments[l];if(r=u,o=_this,h=t,n){if(c===i.U)return b(h);if(f)return c=v(w,e),m(h)}return c===i.U&&(c=v(w,e)),a};return E.cancel=function(){var t;c!==i.U&&(t=c,g?i.browser.cancelAnimationFrame(t):clearTimeout(t)),l=0,r=i.U,h=r,o=r,c=r},E.flush=function(){return c===i.U?a:S(Date.now())},E.pending=function(){return c!==i.U},E},o.deepExtend=(a=function(t,e){var n=i.typeOf(e);return i.defined(t)||(t="array"===n?[]:{}),"array"===n?e.forEach((function(e,n){var r=i.typeOf(e);"array"===r&&"array"===i.typeOf(t[n])||"object"===r&&"object"===i.typeOf(t[n])?t[n]=a(t[n],e):t.push(e)})):Object.entries(e).forEach((function(e){var n=e[0],r=e[1],o=i.typeOf(r);t[n]="array"===o||"object"===o?a(t[n],r):r})),t},function(){for(var t=null,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n&&n.length&&(t=n.shift(),n.forEach((function(e){var n=i.typeOf(e);"array"!==n&&"object"!==n||(t=a(t,e))}))),t}),o.fixSize=function(t,e){t=r(t);return["width","height"].forEach((function(n){var r;i.browser.ieMode&&!t.attr("src")&&function(t,e){return"auto"===t.attr(e)}(t,n)&&(e[n]=0),0===e[n]&&(e[n]=o.imageLib.getPartSize(t,n)),e[n]=((r=e[n])<=4&&(r=0),r)})),e},o.generateUUID=function(){return parseInt(1e7*Math.random(),10)},o.getArrayIndex=function(t,e){return(t%=e)<0&&(t+=e),t},o.getDPPX=function(t,e,n){var r=e/t;return r>=i.DPPX||n?r=i.DPPX:(r*=100,r=Math.ceil(r)/100),r},o.getMatrix=function(t){var e=null,n=r(t).getCss("transform")+"",i=function(t,e){var n={},i=["x","y","z"];return t.forEach((function(t,r){var o;n[i[r]]=(o=e[t],parseFloat(o.trim()))})),n};if("none"!==n){e={};var o=(n=(n=(n=n.split("(")[1]).split(")")[0]).split(",")).length>6;e.transform=i(o?[12,13,14]:[4,5],n),e.scale=i(o?[0,5,10]:[0,3],n)}return e},o.getRemoteData=(c=window.fetch?function(t,e){return fetch(t,{referrerPolicy:e||"no-referrer-when-downgrade"}).then((function(t){if(200===t.status)return t.json();throw{status:t.status,data:t}}))}:function(t){return new Promise((function(e,n){var i=new XMLHttpRequest;i?(i.onerror=function(t){n(t||!0)},i.onload=function(t){try{if(200!==i.status)throw{status:i.status,data:t};var r=JSON.parse(i.responseText);e(r)}catch(t){n(t)}},i.open("GET",t),void 0!==i.responseType&&(i.responseType="text"),i.send(null)):n(!0)}))},function(t,e,n){return new Promise((function(i,r){c(t,n).then(i).catch((function(n){n&&n.status&&[404,200].includes(n.status)?r(n):(console.log("XHR error. Switching to JSONP."),e||(e="sirv_data_"+o.generateUUID()),function(t,e){return new Promise((function(n,i){var r=!1,o=document.createElement("script");window[e]||(window[e]=function(){r=!0,delete window[e],document.body.removeChild(o),n(arguments.length<=0?void 0:arguments[0])});var s=function(){r||(delete window[e],document.body.removeChild(o),i(t))};o.onreadystatechange=function(){"complete"!==_this.readyState&&"loaded"!==_this.readyState||(_this.onreadystatechange=null,setTimeout(s,0))},o.onerror=s,o.onload=s,o.src=t+"&callback="+e,document.body.appendChild(o)}))}(t,e).then(i).catch(r))}))}))}),o.getSirvType=(h=function(t){var e=!1;return t&&(e=""!==(t+="").trim()),e},function(t){var e,i,s=(t=r(t)).attr("data-type")||t.attr("data-effect"),a=t.fetch("view-content"),c=null;if(h(s)&&"static"!==s){var u=n.SLIDE.NAMES.indexOf(s);e=u>=0?u:n.SLIDE.TYPES.ZOOM,s=t.attr("data-src"),h(s)?i=s:(s=r(t.node.getElementsByTagName("img")[0])).attr&&(i=s.attr("src")||s.attr("data-src"))}else s=t.attr("data-src"),h(s)?(o.isSpin(s)&&"img"!==t.tagName||a===n.SLIDE.TYPES.SPIN?e=n.SLIDE.TYPES.SPIN:o.isVideo(s)?e=n.SLIDE.TYPES.VIDEO:(e=n.SLIDE.TYPES.IMAGE,a&&(e=a)),i=s):(s=t.attr("src"),h(s)&&"img"===t.tagName&&(i=s,e=n.SLIDE.TYPES.IMAGE));return e&&(c={type:e,imgSrc:i}),c}),o.imageLib={isNumber:function(t){return/(px|%)$/.test(t)},getSize:function(t,e){return new Promise((function(n,i){var s=r(t).getInnerSize();e||(e=100),e-=1,!s.width&&!s.height&&e>0?setTimeout((function(){o.imageLib.getSize(t,e).then(n)}),16):n(s)}))},getBackgroundValue:function(t){return t&&/px$/.test(t)?parseInt(t,10):null},getBackgroundSize:function(t){var e=null,n=r(t).getCss("background-size");if(n){n=n.split(",")[0].split(" ");var i=o.imageLib.getBackgroundValue((n[0]||"").trim()),s=o.imageLib.getBackgroundValue((n[1]||"").trim());null!==i&&(e={width:i}),null!==s&&(e||(e={}),e.height=s)}return e},calcProportionalBackgroundSize:function(t,e){var n={width:e.width,height:e.height};return t.width&&e.width>t.width&&(n.width=t.width,n.height=t.width*e.height/e.width),t.height&&e.height>t.height&&(n.height=t.height,n.width=t.height*e.width/e.height),n},getBackgroundPositionValue:function(t){var e;switch(t){case"top":case"left":e=0;break;case"center":e=50;break;case"right":case"bottom":e=100;break;default:e=o.imageLib.isNumber(t)?parseInt(t,10):0}return e},getBackgroundPosition:function(t){var e={side:"left",position:0,sign:"%"},n={side:"top",position:0,sign:"%"},i=0,s=1,a=r(t).getCss("background-position");return a&&((a=(a=(a=(a=(a=a.replace(/important/,"")).replace(/!/g,"")).trim()).replace(/\s+/g," ")).split(" ")).length>2&&(i=1,s=3,["left","right"].includes(a[0])&&(e.side=a[0]),["top","bottom"].includes(a[2])&&(n.side=a[2])),e.position=o.imageLib.getBackgroundPositionValue(a[i]),n.position=o.imageLib.getBackgroundPositionValue(a[s]),/px$/.test(a[i])&&(e.sign="px"),/px$/.test(a[s])&&(n.sign="px")),{x:e,y:n}},getPartSize:function(t,e){var n,r=0;return n=i.browser.ieMode?(t.currentStyle[e]||"0").replace(/px$/,""):(t.getCss(e)||"0").replace(/px$/,""),isFinite(n)&&(r=Math.round(parseFloat(n))-parseFloat(t.getCss("border-top-width")||0)-parseFloat(t.getCss("border-bottom-width")||0)-parseFloat(t.getCss("padding-top")||0)-parseFloat(t.getCss("padding-bottom")||0)),r},checkMaxSize:function(t,e,n){var i,r;return(t.width>e.width*n||t.height>e.height*n)&&(t.width>e.width?(i="width",r="height"):(i="height",r="width"),t[i]=e[i],t[r]&&(t[r]=e[r]),t.round=!1),t},calcImageProportion:function(t,e,n,i){var r=n[e]/n[t],o={};return o[t]=i,o[e]=parseInt(r*o[t],10),o},contain:function(t,e){var n={width:t.width,height:t.height};return e.width&&n.width>e.width&&(n=o.imageLib.calcImageProportion("width","height",n,e.width)),e.height&&n.height>e.height&&(n=o.imageLib.calcImageProportion("height","width",n,e.height)),n},cover:function(t,e){var n={width:t.width,height:t.height};return e.width&&n.width<e.width&&(n=o.imageLib.calcImageProportion("width","height",n,e.width)),e.height&&n.height<e.height&&(n=o.imageLib.calcImageProportion("height","width",n,e.height)),n},calcProportionSize:function(t,e,n){var i={},r=e.width,s=e.height,a=r/s,c=s/r,h=function(){i.height=t.height,i.width=parseInt(a*t.height,10)},u=function(){i.width=t.width,i.height=parseInt(c*t.width,10)};return(t.width>r||t.height>s)&&(t.width>r?(t.width=r,t.height&&(t.height>s?t.height=s:h())):(t.height=s,t.width&&(t.width>r?t.width=r:u()))),(t.width||t.height)&&(t.width&&t.height?t.width/t.height-a<=t.height/t.width-c?u():h():t.width?u():h()),n&&(o.imageLib.isNumber(n.width)&&o.imageLib.isNumber(n.height)?(r=parseInt(n.width,10),/%$/.test(n.width)&&(r=r/100*t.width),s=parseInt(n.height,10),/%$/.test(n.height)&&(s=s/100*t.height),i=r<e.width/e.height*s?o.imageLib.calcImageProportion("width","height",e,r):o.imageLib.calcImageProportion("height","width",e,s)):(o.imageLib.isNumber(n.width)&&(r=parseInt(n.width,10),/%$/.test(n.width)&&(r=r/100*t.width),i=o.imageLib.calcImageProportion("width","height",e,r)),o.imageLib.isNumber(n.height)&&(s=parseInt(n.height,10),/%$/.test(n.height)&&(s=s/100*t.height),i=o.imageLib.calcImageProportion("height","width",e,s)),[n.width,n.height].includes("initial")?(i.width=e.width,i.height=e.height):[n.width,n.height].includes("cover")?i=o.imageLib.cover(i,t):[n.width,n.height].includes("contain")&&(i=o.imageLib.contain(i,t)))),i}},o.InViewModule=(u=function(t){var e=!0;return"body"!==t.tagName&&(e="none"!==t.getCss("display")&&u(r(t.node.parentNode))),e},l=new(function(){"use strict";function t(){this.timer=null,this.started=!1,this.list=[]}var e=t.prototype;return e._startTimer=function(){var t=this;this.list.length&&(clearTimeout(this.timer),this.timer=setTimeout((function(){t._check(),t.started&&t._startTimer()}),500))},e._check=function(){this.list.forEach((function(t){var e=u(t.obj.node),n=e!==t.obj.isShown;t.obj.isShown=e,n&&t.callback(t.obj)}))},e.push=function(t,e){var n={obj:t,callback:e};this.list.push(n),this.started||(this.started=!0,this._startTimer())},e.remove=function(t){for(var e=0,n=this.list.length;e<n;e++)if(this.list[e].obj.node.node===t){this.list.splice(e,1);break}this.list.length||(this.started=!1)},t}()),d=function(t){var e=[];return Array.isArray(t)?t.forEach((function(t){var n=function(t){var e=null;return null!==t&&(t=parseFloat(t),isNaN(t)||(t<0&&(t=0),t>1&&(t=1),e=t)),e}(t);null===n||e.includes(n)||e.push(n)})):e=[0],e},f=function(){"use strict";function t(t,e){this.callback=t,this.options=Object.assign({rootMargin:"0px",threshold:[0],root:null},e||{}),this.options.rootMargin=function(t){var e=[],n=function(){return 0};if(t&&!Array.isArray(t)&&(t="number"===i.typeOf(t)?[t]:"string"===i.typeOf(t)?(t=t.split(" ")).map((function(t){return t.trim()})):null),Array.isArray(t)){var r=t.length;switch(r>4&&(r=4),t.forEach((function(t){if(["string","number"].includes(i.typeOf(t))){var r=parseInt(t,10);/%$/.test(t)?e.push((function(t){return t/100*r})):e.push((function(t){return r}))}else e.push(n)})),r){case 1:e.push(e[0]),e.push(e[0]),e.push(e[0]);break;case 2:e.push(e[0]),e.push(e[1]);break;case 3:e.push(e[1])}}else e=[n,n,n,n];return e}(this.options.rootMargin),this.options.threshold=d(this.options.threshold),this.nodeList=[],this.last=[],this.viewPortSize={top:0,left:0,width:0,height:0},this.correctPosition={top:0,left:0},this.eventWasAdded=!1,this.bindedRender=this._render.bind(this),this.bindedResize=this._resize.bind(this),this._resize()}var e=t.prototype;return e._addEvents=function(t){this.eventWasAdded||(this.eventWasAdded=!0,r(window).addEvent("resize",this.bindedResize),r(this.options.root||window).addEvent("scroll",this.bindedRender))},e._removeEvents=function(t){this.eventWasAdded&&(this.eventWasAdded=!1,r(window).removeEvent("resize",this.bindedResize),r(this.options.root||window).removeEvent("scroll",this.bindedRender))},e._resize=function(t){var e,n=this.options.rootMargin,i=((e=this.options.root)||(e=window),{width:e.offsetWidth||e.innerWidth||document.documentElement.clientWidth,height:e.offsetHeight||e.innerHeight||document.documentElement.clientHeight});this.correctPosition={top:0-n[0](i.width),left:0-n[1](i.width)},this.viewPortSize={width:i.width+n[1](i.width)+n[3](i.width),height:i.height+n[0](i.width)+n[2](i.width)}},e._renderElement=function(t){var e=null;if(t.isShown){var n=function(t,e,n){var i=Object.assign({},e);try{var o=r(t).getBoundingClientRect();i.top+=o.top,i.left+=o.left}catch(t){}return Object.assign(i,n)}(this.options.root,this.correctPosition,this.viewPortSize),i=function(t,e){var n,i,r,o=t.width||1,s=t.height||1,a=Math.min(t.left+o,e.left+e.width)-Math.max(t.left,e.left),c=Math.min(t.top+s,e.top+e.height)-Math.max(t.top,e.top);return a<0&&(a=0),c<0&&(c=0),i=a*c,r=0,(n=o*s)>0&&(r=i/n),r}(t.node.node.getBoundingClientRect(),n);(function(t,e,n){var i=!1;if(e!==n)if(e<n){for(var r=0,o=t.length;r<o;r++)if(0===t[r]&&0===e||e<t[r]&&t[r]<=n){i=!0;break}}else for(var s=0,a=t.length;s<a;s++)if(1===t[s]&&1===e||e>t[s]&&t[s]>=n){i=!0;break}return i})(this.options.threshold,t.intersectionRatio,i)&&(t.intersectionRatio=i,e={target:t.node.node,intersectionRatio:t.intersectionRatio,isIntersecting:t.intersectionRatio>0})}return e},e._render=function(){var t=this,e=[];this.nodeList.forEach((function(n){var i=t._renderElement(n);i&&e.push(i)})),e.length&&(this.last=e,this.callback(e))},e.takeRecords=function(){return this._render(),this.last},e.observe=function(t){var e=this;t={node:t=r(t),isShown:u(t),intersectionRatio:0,isIntersecting:!1},l.push(t,(function(t){var n=e._renderElement(t);n&&(e.last=[n],e.callback([n]))})),this.nodeList.push(t),this._addEvents();var n=this._renderElement(t);n||(n={target:t.node.node,intersectionRatio:0,isIntersecting:!1}),this.callback([n])},e.unobserve=function(t){t=r(t);var e=this.nodeList.map((function(t){return t.node.node})).indexOf(t.node);l.remove(t.node),e>-1&&this.nodeList.splice(e,1),this.nodeList.length||this._removeEvents()},e.disconnect=function(){this.nodeList.forEach((function(t){l.remove(t.node)})),this.nodeList=[],this._removeEvents()},t}(),function(){"use strict";function t(t,e){var n=window.IntersectionObserver||f;this.observer=new n(t,e||{})}t.isInView=function(t){var e=r(t).getBoundingClientRect();return(e.top>=0||e.top-e.bottom<e.top)&&e.left>=0&&e.top<=(window.innerHeight||document.documentElement.clientHeight)};var e=t.prototype;return e.takeRecords=function(){return this.observer.takeRecords()},e.observe=function(t){t.node&&(t=t.node),this.observer.observe(t)},e.unobserve=function(t){this.observer.unobserve(t)},e.disconnect=function(){this.observer.disconnect()},t}()),o.isPercentage=function(t){return/^([-]?[0-9]*\.?[0-9]+)%$/.test(""+t)},o.isSVG=function(t){return!!t&&(t=(t=(t=t.split("?")[0]).split("."))[t.length-1],/svg/i.test(t))},o.isSpin=function(t){return t=(t||"").split("?")[0],/([^#?]+)\/?([^#?]+\.spin)(\?([^#]*))?(#(.*))?$/.test(t)},o.isVideo=function(t){return t=(t||"").split("?")[0],/([^#?]+)\/?([^#?]+\.(mp4|mov|avi|m4v|mkv|webm|wmv|ogv|ogg))(\?([^#]*))?(#(.*))?$/i.test(t)},o.loadImage=function(t){return new Promise((function(e,n){var o,s,a=!1;if(["array","string"].includes(i.typeOf(t))?("string"===i.typeOf(t)&&(t=[t]),(o=i.$new("img").setCss({maxWidth:"none",maxHeight:"none"})).attr("referrerpolicy","no-referrer-when-downgrade"),a=!0):(o=r(t)).node.parentNode||(a=!0),a&&((s=i.$new("div").setCss({top:"-10000px",left:"-10000px",width:"10px",height:"10px",position:"absolute",overflow:"hidden"})).append(o),r(i.D.node.body).append(s)),o.node.complete&&o.node.src)s&&s.remove(),e({image:null,size:o.size});else{var c=function(t){o.removeEvent(["load","error"],c),"error"===t.type?n({error:t}):e({image:t,size:{width:o.node.naturalWidth||o.node.width,height:o.node.naturalHeight||o.node.height}}),s&&s.remove()};o.addEvent(["load","error"],c),s&&"array"===i.typeOf(t)&&(o.attr("src",t[0]),t[1]&&o.attr("srcset",t[1]+" 2x"))}}))},o.loadStylesheet=function(t,e,n,o){return new Promise((function(s,a){var c=!1,h=n||i.D.node;if(Array.from(h.querySelectorAll("link")).forEach((function(e){var n=r(e).attr("href")||"";i.getAbsoluteURL(n)===i.getAbsoluteURL(t)&&(c=!0)})),c)s();else{var u=i.$new("link");e!==i.U&&(u.node.id=e),u.node.rel="stylesheet",u.node.type="text/css",u.node.onload=function(){s()},u.node.onerror=function(t){a(t)},u.node.href=t;var l=i.D.node.head||i.D.node.getElementsByTagName("head")[0]||i.D.node.body||i.D.node.documentElement;n&&(l=n);var d=l.firstChild,f=l.querySelector(o);f&&f.nextSibling&&(d=f.nextSibling),l.insertBefore(u.node,d)}}))},o.makeQueryblePromise=function(t){if(t.isResolved)return t;var e=!0,n=!1,i=!1,r=t.then((function(t){return e=!1,i=!0,t}),(function(t){return e=!1,n=!0,t}));return r.isFulfilled=function(){return i},r.isPending=function(){return e},r.isRejected=function(){return n},r},o.paramsFromQueryString=(p={w:"scale.width",h:"scale.height",cw:"crop.width",ch:"crop.height",cx:"crop.x",cy:"crop.y",q:"quality",s:"size",text:"text.text",watermark:"watermark.image","watermark.w":"watermark.scale.width","watermark.h":"watermark.scale.height","watermark.cw":"watermark.crop.width","watermark.ch":"watermark.crop.height","watermark.cx":"watermark.crop.x","watermark.cy":"watermark.crop.y"},function(t){var e={};return t&&(r(t.split("&")).forEach((function(t){var n=t.split("=");n[0]=p[n[0]]||n[0],n[0].trim().split(".").reduce((function(t,e,i,r){return/^\d$/.test(e)&&(t.__toArray=!0),void 0===t[e]&&(i<r.length-1?t[e]={}:t[e]=function(t){for(var e="",n=t.split(/(%(?:D0|D1)%.{2})/),i=0,r=n.length;i<r;i++){var o=void 0;try{o=decodeURIComponent(n[i])}catch(t){o=n[i]}e+=o}return e}(n[1]||"")),t[e]}),e)})),Object.keys(e).forEach((function(t){if("object"==typeof e[t]&&e[t].__toArray){delete e[t].__toArray;var n=Object.keys(e[t]);e[t]=n.map((function(n){return e[t][n]}))}}))),e}),o.paramsToQueryString=(g={"scale.width":"w","scale.height":"h","crop.width":"cw","crop.height":"ch","crop.x":"cx","crop.y":"cy",quality:"q",size:"s","text.text":"text","watermark.image":"watermark","watermark.scale.width":"watermark.w","watermark.scale.height":"watermark.h","watermark.crop.width":"watermark.cw","watermark.crop.height":"watermark.ch","watermark.crop.x":"watermark.cx","watermark.crop.y":"watermark.cy"},m=function(t,e){var n=[],r=function(r){if(!Object.prototype.hasOwnProperty.call(t,r))return"continue";if("$J"===(r+"").substring(0,2))return"continue";var o=t[r];if("object"===i.typeOf(o))o=m(o,(e||"")+r+"."),n.push(o);else if("array"===i.typeOf(o))o.forEach((function(t,i){o=m(t,(e||"")+r+"."+i+"."),n.push(o)}));else{var s=(e||"")+r;s=g[s]||s,n.push(s+"="+encodeURIComponent(o))}};for(var o in t)r(o);return n.join("&")}),o.round=function(t,e,n){e||(e=0);var i=Math.pow(10,e);return i=n?parseInt(t*i,10)/i:Math.round(t*i)/i},o.roundSize=function(t,e){return t&&(e||(e=100),t=Math.ceil(t/e)*e),t},o.sendRawStats=function(t,e){try{var n="https://stats.sirv.com/"+ +new Date;if(!0===e&&navigator.sendBeacon)return void navigator.sendBeacon(n,o.paramsToQueryString(t));var i=new XMLHttpRequest;i.open("POST",n),void 0!==i.responseType&&(i.responseType="text"),i.send(o.paramsToQueryString(t))}catch(t){}},o.sliderLib={findIndex:function(t,e,n,r){var s=null;if("string"===i.typeOf(t))switch(t){case"next":t=e+1;break;case"prev":t=e-1}return"number"===i.typeOf(t)&&((s=t)<0?s=r?o.getArrayIndex(s,n):0:t>=n&&(s=r?o.getArrayIndex(s,n):n-1)),s},getSrc:function(t){return i.defined(t)&&""!==(t+"").trim()?t+"":null}},o.sortSlidesByOrder=function(t,e){var i=e.slice(),r=[];if(t&&t.length)for(var o=0,s=Math.min(t.length,i.length);o<s;o++)for(var a=0,c=i.length;a<c;a++)if(n.SLIDE.NAMES.indexOf(t[o])===i[a].type&&i[a].enabled){r.push(i[a]),i.splice(a,1);break}return i.forEach((function(t){r.push(t)})),r},o.spinLib=v={calcProportionSize:function(t,e,n,i){var r=e.width,o=e.height;if(r>t.width){var s=o/r;r=t.width,o=parseInt(r*s,10)}if(o>t.height){var a=r/o;o=t.height,r=parseInt(o*a,10)}return i||e.width<r&&(r=e.width,o=e.height),{width:r,height:o}},reverse:function(t,e,n){if(t)for(var i=0,r=n.length;i<r;i++)n[i].reverse();return e&&n.reverse(),n},getNextIndex:function(t,e,n,i,r){var s;return n?"next"===n?(s=t+e,r?s=o.getArrayIndex(s,i):s>=i&&(s=i-1)):(s=t-e,r?s=o.getArrayIndex(s,i):s<0&&(s=0)):(s=e,r?s=o.getArrayIndex(s,i):(s>=i&&(s=i-1),s<0&&(s=0))),s},getUrl:function(t){var e=t;return(e=e.split("/")).splice(e.length-1,1),e=(e=e.join("/")).replace(/https?:/,"")},swapLayers:function(t,e){var n=t;return e&&(n={},Object.entries(t).forEach((function(t){var e=t[0],i=t[1];Object.entries(i).forEach((function(t){var i=t[0],r=t[1];n[i]||(n[i]={}),n[i][e]=r}))}))),n},getMaxCount:function(t){return Math.max.apply(Math,[0].concat(Object.values(t).map((function(t){return Object.keys(t).length}))))},correctArray:function(t,e){var n=[],i=e-t.length;if(i>0){for(var r=t.length,o=0;o<r-1;o++){var s=parseInt(t[o],10),a=parseInt(t[o+1],10)-s-1;if(n.push(t[o]),a>0&&i>0)for(a>i&&(a=i);a>0;)a-=1,i-=1,n.push(t[o])}if(n.push(t[r-1]),i>0){var c=parseInt(t[0],10)-1;if(c>0)for(;c>0;)c-=1,i-=1,n.unshift(t[0]);if(i>0)for(;i>0;)i-=1,n.push(t[t.length-1])}}else n=JSON.parse(JSON.stringify(t));return n},getFrames:function(t,e){var n={},i=v.correctArray(Object.keys(t),e);return r(i).forEach((function(e,i){n[i+1+""]=t[e]})),n},checkLayers:function(t){var e={},n=v.getMaxCount(t);return Object.values(t).forEach((function(t,i){e[i+1+""]=v.getFrames(t,n)})),e}},o.videoModule=(y=null,S=null,w={},b="0.jpg",E="default.jpg",_=function(t){return new Promise((function(e,n){var i=new XMLHttpRequest;i.open("GET",t,!0),i.onreadystatechange=function(){if(4===i.readyState&&200===i.status)try{var t=JSON.parse(i.responseText)[0];e(t)}catch(t){n(null)}},i.send(!0)}))},I=function(t){return(t=r(t))&&"video"===t.tagName},x=function(t){var e=null;return void 0!==(t=t.replace(/(>|<)/gi,"").split(/(vi\/|v=|\/v\/|youtu\.be\/|\/embed\/)/))[2]&&(t=t[2].split(/[^0-9a-z_\-]/i)).length&&t[0]&&(e=t[0]),e},O=function(t){var e=null;return(t=t.match(/(?:https?:\/\/)?(?:www.)?(?:player.)?vimeo.com\/(?:[a-z]*\/)*([0-9]{6,11})[?]?.*/)[1])&&(e=t),e},C={aspectratio:9/16,getAspectRatio:function(t){return new Promise((function(e,n){var i;(t=N(t))&&w[t]&&e(w[t].aspectratio),"vimeo"===C.getType(t)&&(i=O(t))?_("https://vimeo.com/api/v2/video/"+i+".json").then((function(t){e(t?t.height/t.width:C.aspectratio)})).catch((function(t){n(t)})):e(C.aspectratio)}))},getId:function(t){var e=null;if(C.isVideo(t))switch(t=N(t),C.getType(t)){case"youtube":e=x(t);break;case"vimeo":e=O(t)}return e},isVideo:function(t){var e=!1;return I(t)?e=!0:(t=N(t))&&(e=["youtube","vimeo"].includes(C.getType(t))),e},getType:function(t){var e=null;return I(t)?e="video":(t=N(t))&&(/^(https?:)?\/\/((www\.)?youtube\.com|youtu\.be)\//.test(t)?e="youtube":/^(https?:)?\/\/((www|player)\.)?vimeo\.com\//.test(t)&&(e="vimeo")),e},getImageSrc:function(t,e){return new Promise((function(n,o){var s;t&&r(t)&&"element"===i.typeOf(r(t).node)&&(s=t),t=N(t);var a,c=null;if(t){if(w[t])if(e){if(w[t].all)return void n(w[t].all)}else{if(w[t].url)return void n(w[t].url);if(w[t].all)return void n(w[t].all.thumbnail.url)}var h;switch(C.getType(s||t)){case"youtube":(h=x(t))&&(c=e?{thumbnail:{url:"https://img.youtube.com/vi/"+h+"/"+E,width:120,height:90},medium:{url:"https://img.youtube.com/vi/"+h+"/"+b,width:480,height:360}}:"https://img.youtube.com/vi/"+h+"/"+E,w[t]||(w[t]={}),w[t].aspectratio=C.aspectratio,e?w[t].all=c:w[t].url=c),n(c);break;case"vimeo":(h=O(t))?_(c="https://vimeo.com/api/v2/video/"+h+".json").then((function(i){var r=null;i&&(r=e?{thumbnail:{url:i.thumbnail_small,width:100,height:75},medium:{url:i.thumbnail_medium,width:200,height:150}}:i.thumbnail_small),r&&(w[t]||(w[t]={}),e?w[t].all=r:w[t].url=r,w[t].aspectratio=i.height/i.width),n(r)})).catch(o):n(c);break;case"video":if(s)if((s=r(s.node.cloneNode(!0))).attr&&(c=s.attr("poster")),c&&""!==c.trim())w[t]||(w[t]={}),w[t].aspectratio=C.aspectratio,e?(w[t].all={thumbnail:{url:c,width:200,height:150},medium:{url:c,width:200,height:150}},n(w[t].all)):(w[t].url=c,n(c));else{var u=i.$new("canvas"),l=u.node.getContext("2d"),d=function(){s.removeEvent(["loadedmetadata","loadeddata","abort","error","stalled"]),s.remove()};(a=s.attr("data-src"))&&s.attr("src",a),Array.from(s.node.children).forEach((function(t){(t=r(t))&&"source"===t.tagName&&(a=t.attr("data-src"))&&t.attr("src",a)})),s.setCss({top:-1e5,left:-1e5,width:200,height:150,position:"absolute"}),s.muted=!0,s.addEvent("loadedmetadata",(function(t){var e=s.size;e.width&&e.height||(e.width=200,e.height=150),s.setCss({width:e.width,height:e.height}),u.node.width=e.width,u.node.height=e.height,0<s.node.duration&&(s.node.currentTime=0)})),s.addEvent("loadeddata",(function(t){s.currentTime=0})),s.addEvent(["abort","error","stalled"],(function(t){d(),o(null)})),s.addEvent("seeked",(function(i){l.drawImage(s.node,0,0,u.node.width,u.node.height),d();try{c=u.node.toDataURL()}catch(t){}c?(w[t]||(w[t]={}),w[t].aspectratio=C.aspectratio,e?(w[t].all={thumbnail:{url:c,width:200,height:150},medium:{url:c,width:200,height:150}},n(w[t].all)):(w[t].url=c,n(c))):n(c)})),s.appendTo(i.D.node.body),s.node.load()}else n(c);break;default:n(c)}}else n(c)}))},getSrc:N=function(t){var e=null;if("string"===i.typeOf(t))e=t;else if((t=r(t))&&"element"===i.typeOf(t.node))if(["iframe","div"].includes(t.tagName))e=t.attr("src")||t.attr("data-src");else if(I(t)&&!(e=t.attr("src")||t.attr("data-src"))){e=null;var n,o=Array.from(t.node.children);do{(n=r(o.shift()))&&"element"===i.typeOf(n.node)&&"source"===n.tagName&&(e=n.attr("src")||n.attr("data-src"))}while(!e&&n)}return e},getAPI:function(t){var e=null;if(C.isVideo(t))switch(C.getType(t)){case"video":e=Promise.resolve();break;case"vimeo":y||(y=new Promise((function(t,e){if(i.W.node.Vimeo)t(i.W.node.Vimeo);else if("function"==typeof i.W.node.define&&i.W.node.define.amd&&"function"==typeof i.W.node.require)i.W.node.require(["https://player.vimeo.com/api/player.js"],(function(e){t({Player:e})}),e);else{var n=i.$new("script");n.attr("src","https://player.vimeo.com/api/player.js"),r(n).addEvent("load",(function(){t(i.W.node.Vimeo)})),r(n).addEvent("error",e),n.appendTo(document.body)}}))),e=y;break;case"youtube":S||(S=i.W.node.YT?Promise.resolve(i.W.node.YT):new Promise((function(t,e){var n=i.W.node.onYouTubeIframeAPIReady||function(){};i.W.node.onYouTubeIframeAPIReady=function(){n(),t(i.W.node.YT)},document.querySelector('script[src$="youtube.com/iframe_api"]')||i.$new("script",{src:"https://www.youtube.com/iframe_api"}).appendTo(i.D.node.body)}))),e=S}else e=Promise.reject(!0);return e}}),o})),Sirv.define("EventEmitter",["bHelpers","magicJS","helper"],(function(t,e,n){var i=e,r=i.$,o=function(){"use strict";function e(t,e,n){this.type=t,this._direction=e,this.propagation=!0,this.nextCalls=!0,this.emptyEvent=!0,this.data=Object.assign(n,{eventType:this.type,eventDirection:this._direction,stopEmptyEvent:this.stopEmptyEvent.bind(this),stopPropagation:this.stopPropagation.bind(this),stopNextCalls:this.stopNextCalls.bind(this),stop:this.stop.bind(this),stopAll:this.stopAll.bind(this)})}var n=e.prototype;return n.copyData=function(){var t=Object.assign({},this.data);return delete t.eventDirection,delete t.stopEmptyEvent,delete t.stopPropagation,delete t.stopNextCalls,delete t.stop,delete t.stopAll,t},n.stopEmptyEvent=function(){this.emptyEvent=!1},n.stopPropagation=function(){this.propagation=!1},n.stopNextCalls=function(){this.nextCalls=!1},n.stop=function(){this.stopPropagation(),this.stopEmptyEvent()},n.stopAll=function(){this.stop(),this.stopNextCalls()},t.createClass(e,[{key:"customData",get:function(){return this.data}},{key:"direction",get:function(){return this._direction}},{key:"emptyEventStopped",get:function(){return!this.emptyEvent}},{key:"propagationStopped",get:function(){return!this.propagation}},{key:"nextCallsStopped",get:function(){return!this.nextCalls}}]),e}(),s=function(t,e){return"string"===i.typeOf(t)?""===(t=t.trim())&&(t=e):t=e,t};return function(){"use strict";function e(){this.__parent=null,this.__childs=r([]),this.__subscribers={},this.__NAME_OF_EMPTY_EVENT="__empty__"}var n=e.prototype;return n.__setChild=function(t){this.__childs.push(t)},n.__removeChild=function(t){var e=this.__childs.indexOf(t);-1!==e&&this.__childs.splice(e,1)},n.__removeParent=function(){this.__parent&&(this.__parent.__removeChild(this),this.__parent=null)},n.__callNext=function(t){t.propagationStopped||("up"===t.direction?this.__parent&&this.__parent.__next(t):this.__childs.forEach((function(e){e.__next(t)})))},n.__next=function(t){var e=this.__subscribers[t.type];if(t=new o(t.type,t.direction,t.copyData()),e)for(var n=0;n<e.length&&(e[n](t.customData,t,this),!t.nextCallsStopped);n++);if(Object.prototype.hasOwnProperty.call(this.__subscribers,this.__NAME_OF_EMPTY_EVENT)&&!t.emptyEventStopped)for(var i=0;i<this.__subscribers[this.__NAME_OF_EMPTY_EVENT].length;i++)this.__subscribers[this.__NAME_OF_EMPTY_EVENT][i](t.customData);this.__callNext(t)},n.emit=function(t,e){e&&"object"===i.typeOf(e)||("object"===i.typeOf(t)?(e=t,t=null):e={}),t=s(t,this.__NAME_OF_EMPTY_EVENT),this.__callNext(new o(t,"up",e))},n.broadcast=function(t,e){e&&"object"===i.typeOf(e)||("object"===i.typeOf(t)?(e=t,t=null):e={}),t=s(t,this.__NAME_OF_EMPTY_EVENT),this.__callNext(new o(t,"down",e))},n.on=function(t,e){var n=this;return"function"===i.typeOf(t)&&(e=t,t=null),e?(t=s(t,this.__NAME_OF_EMPTY_EVENT),this.__subscribers[t]||(this.__subscribers[t]=[]),this.__subscribers[t].push(e),function(){return n.off(t,e)}):null},n.off=function(t,e){var n;"function"===i.typeOf(t)&&(e=t,t=null),t=s(t,this.__NAME_OF_EMPTY_EVENT),e?Object.prototype.hasOwnProperty.call(this.__subscribers,t)&&-1!==(n=this.__subscribers[t].indexOf(e))&&this.__subscribers[t].splice(n,1):delete this.__subscribers[t]},n.destroy=function(){this.__removeParent(),this.__childs=r([]),this.__subscribers={}},t.createClass(e,[{key:"parentClass",set:function(t){this.__parent=t,this.__parent.__setChild(this)}}]),e}()})),Sirv.define("EventManager",["bHelpers","magicJS","globalVariables","globalFunctions","EventEmitter","helper"],(function(t,e,n,i,r,o){var s=e;s.$;return function(e){"use strict";function n(t){var n;return(n=e.call(this)||this).items=t,n.events={lazyimage:{},viewer:{},spin:{},zoom:{},image:{},video:{}},n.reversedEvents=[],n.addEvents(),n}t.inheritsLoose(n,e),n.eventsNameParser=function(t){var e=null;return t&&"string"===s.typeOf(t)&&(e=t.split(":").map((function(t){return t.trim()})).filter((function(t){return""!==t})),/sirv/i.test(e[0])&&e.shift(),e.length<2&&(e=null)),e},n.triggerCustomEvent=function(t,e,n,i,r){var o;i===s.U&&(i=!0),r===s.U&&(r=!0);try{o=new CustomEvent(t,{bubbles:i,cancelable:r,detail:n})}catch(e){try{(o=s.D.createEvent("Event")).initEvent(t,i,r),o.detail=n}catch(t){}}o&&e.node.dispatchEvent(o)};var r=n.prototype;return r.addReverseEvent=function(t,e,n){this.reversedEvents.push({eventName:t,componentName:n,callback:e})},r.callReverseCallback=function(t,e,n){for(var i=!1,r=0,o=this.reversedEvents.length;r<o;r++)if(this.reversedEvents[r].componentName===t&&this.reversedEvents[r].eventName===e){this.reversedEvents[r].callback(n),this.reversedEvents.splice(r,1),i=!0;break}return i},r.addEvents=function(){var t=this;this.on("destroy",(function(t){t.stopAll(),i.stop(t.data.node,"viewer")})),this.on("imagePublicEvent",(function(e){if(e.stopAll(),!t.callReverseCallback("lazyimage",e.data.type,e.data.image)){n.triggerCustomEvent("sirv:lazyimage:"+e.data.type,e.data.node,Object.assign({},e.data.image));var i=t.events.lazyimage[e.data.type];i&&i.forEach((function(t){t(e.data.image)}))}})),this.on("viewerPublicEvent",(function(e){var r,o,s;e.stopAll();var a="viewer";if("componentEvent"===e.data.slider.type?(o=e.data.type,s=Object.assign({},e.data.slide[e.data.slide.component]),a=e.data.slide.component,e.data.node&&(r=e.data.componentEventData.node),Object.entries(e.data.componentEventData).forEach((function(t){var n=t[0],i=t[1];"node"===n?e.data.node&&(s[n]=i.node):"type"!==n&&(s[n]=i)}))):("ready"===(o=e.data.slider.type)&&i.iconsHash.remove(),e.data.node&&(r=e.data.node),e.data.slider&&(s=e.data.slider,"sendStats"===o&&(s.statsData=e.data.event)),["beforeSlideIn","beforeSlideOut","afterSlideIn","afterSlideOut","enableItem","disableItem","thumbnailClick"].includes(o)&&(s=e.data.slide)),!t.callReverseCallback(a,o,s)){r&&n.triggerCustomEvent("sirv:"+a+":"+o,r,Object.assign({},s));var c=t.events[a][o];c&&c.forEach((function(t){t(s)}))}})),this.on((function(t){t.stopAll()}))},r.addEvent=function(t,e){var i=this,r=function(){return!1},o=n.eventsNameParser(t);if(o&&this.events[o[0]]&&e){if(this.events[o[0]][o[1]]||(this.events[o[0]][o[1]]=[]),this.events[o[0]][o[1]].push(e),["ready","init","onLoad"].includes(o[1])){var s="lazyimage"===o[0]?"image":"viewer";("viewer"===s&&"onLoad"!==o[1]||"onLoad"===o[1]&&"image"===s)&&setTimeout((function(){i.items[s].forEach((function(t){t.checkReadiness(o[1],o[0])&&(i.addReverseEvent(o[1],e,o[0]),t.sendEvent(o[1],o[0]))}))}),0)}r=function(){return i.removeEvent(t,e)}}return r},r.removeEvent=function(t,e){var i=n.eventsNameParser(t);if(i&&this.events[i[0]]&&this.events[i[0]][i[1]]){if(!e)return delete this.events[i[0]][i[1]],!0;var r=this.events[i[0]][i[1]].indexOf(e);if(r>=0)return this.events[i[0]][i[1]].splice(r,1),!0}return!1},n}(r)})),Sirv.define("ContextMenu",["bHelpers","magicJS","globalVariables","globalFunctions"],(function(t,e,n,i){var r=e,o=r.$;return function(){"use strict";function e(t,e,n){void 0===n&&(n="magic"),this.CSS_CLASS=n+"-contextmenu",this.target=t,this.conext=null,this.overlay=null,this.items={},this.active=!1,this.showBind=null,this.hideBind=null,this.hideOnScrollBind=null,this.context=null,this._canShow=!0,this._position={top:null,left:null},this._fullScreenBox=null,this.setup(e||[])}var n=e.prototype;return n.isExist=function(t){return!!this.items[t]},n.setup=function(t){var e=this;this.context=r.$new("ul").addClass(this.CSS_CLASS).addEvent(["contextmenu","dragstart","selectstart"],(function(t){t.stop()})),t.forEach((function(t){e.addItem(t)})),this.hideFX=new r.FX(this.context,{duration:200,onComplete:function(){e.context.remove()}}),this.target.addEvent("contextmenu",this.showBind=this.show.bind(this)),this.overlay=r.$new("div").addClass(this.CSS_CLASS+"-overlay").addEvent("click contextmenu",this.hide.bind(this)).addEvent("mousescroll",(function(t){t.stop(),o(t).events[0].stop().stopQueue()})),this.hideBind=o((function(t){e.active&&(t.stop(),27===t.originEvent.keyCode&&e.hide())})).bind(this),r.W.addEvent("keydown",this.hideBind,1),this.hideOnScrollBind=o((function(t){e.active&&e.hide()})).bind(this),r.W.addEvent("scroll",this.hideOnScrollBind)},n.addItem=function(t){var e=this,n=r.$new("li").appendTo(this.context);r.defined(t.separator)?n.addClass("menu-separator"):r.defined(t.label)&&(n.append(r.D.node.createTextNode(t.label)),r.defined(t.disabled)&&!0===t.disabled&&n.attr("disabled",!0),"function"===r.typeOf(t.action)&&n.addEvent("btnclick",(function(i){i.stop(),n.attr("disabled")||(e.hide(),t.action.call(t.action,e.position))}))),r.defined(t.hidden)&&!0===t.hidden&&n.setCss({display:"none"});var i=t.id||"item-"+Math.floor(Math.random()*+new Date);return this.items[i]=n,i},n.hideItem=function(t){this.items[t]&&o(this.items[t]).setCss({display:"none"})},n.showItem=function(t){this.items[t]&&o(this.items[t]).setCss({display:""})},n.disableItem=function(t){this.items[t]&&o(this.items[t]).attr("disabled",!0)},n.enableItem=function(t){this.items[t]&&o(this.items[t]).removeAttr("disabled")},n.show=function(t){var e=r.D.node.body;if(this._canShow){this.hideFX.stop(),r.browser.fullScreen.enabled()&&(this._fullScreenBox||r.D.msFullscreenElement)&&(e=this._fullScreenBox||r.D.msFullscreenElement),this.overlay.appendTo(e),this.context.setCss({top:-1e4}).appendTo(e);var n=t.clientXY,i=n.x,o=n.y,s=t.pageXY;this._position.top=s.y,this._position.left=s.x;var a=function(t){var e=r.W.size,n=r.W.scroll;return{left:t=t||0,right:e.width-t,top:t,bottom:e.height-t,x:n.x,y:n.y}}(5),c=this.context.size;a.right<i+c.width&&(i-=c.width),a.bottom<o+c.height&&(o=a.bottom-c.height),this.context.setCss({top:o,left:i,display:"block",opacity:1}),this.active=!0}},n.hide=function(t){if(this.active&&(this.overlay.remove(),this.hideFX.start({opacity:[1,0]}),this.active=!1,t&&(t.stopDefaults(),"contextmenu"===t.type))){var e=t.pageXY,n=this.target.rect;n.left<=e.x&&n.right>=e.x&&n.top<=e.y&&n.bottom>=e.y&&this.show(t)}},n.destroy=function(){this.target.removeEvent("contextmenu",this.showBind),r.W.removeEvent("keydown",this.hideBind).removeEvent("scroll",this.hideOnScrollBind);try{this.context.kill()}catch(t){}try{this.overlay.kill()}catch(t){}},t.createClass(e,[{key:"position",get:function(){return{top:this._position.top,left:this._position.left}}},{key:"canShow",set:function(t){this._canShow=t}},{key:"fullScreenBox",set:function(t){this._fullScreenBox=t}}]),e}()})),Sirv.define("BaseInstance",["bHelpers","magicJS","EventEmitter","helper"],(function(t,e,n,i){var r=e,o=r.$,s=function(e){"use strict";function n(n,i,r){var s;(s=e.call(this)||this).defaultSchema=r,s._options=i,s.instanceNode=o(n),s.instanceUrl=s.instanceNode.attr("data-src")||s.instanceNode.attr("src")||s.instanceNode.attr("data-bg-src"),s.option=null,s.ready=!1,s.id=null,s.isCustomId=!1,s.isStartedFullInit=!1,s.isStarted=!1,s.destroyed=!1,s.referrerPolicy=s.instanceNode.attr("data-referrerpolicy")||s.instanceNode.attr("referrerpolicy")||"no-referrer-when-downgrade",s.instanceOptions=s.makeOptions(),s.createOptionFunction();var a=t.assertThisInitialized(s);return s.api={isReady:function(){return a.ready},resize:a.resize,getOptions:a.options},s}t.inheritsLoose(n,e);var s=n.prototype;return s.setOptions=function(t,e,n,i){return t.fromJSON(e),t.fromString(n),t.fromString(i),t},s.makeGlobalOptions=function(t){var e=this._options.options;return this.setOptions(t,e.common.common,e.local.common,this.instanceNode.attr("data-options")||"")},s.makeMobileOptions=function(t){var e=this._options.options;return this.setOptions(t,e.common.mobile,e.local.mobile,this.instanceNode.attr("data-mobile-options")||"")},s.makeOptions=function(){var t=new r.Options(this.defaultSchema);return t=this.makeGlobalOptions(t),r.browser.touchScreen&&r.browser.mobile&&(t=this.makeMobileOptions(t)),t},s.getOptionsForStartFullInit=function(t){t&&(this._options.options=t,this.instanceOptions=this.makeOptions(),this.createOptionFunction())},s.resize=function(){return!!this.ready&&this.onResize()},s.onResize=function(){return!0},s.checkImage=function(t,e){var n=this.imageClassContainer;return e?n.isExist(t):n.isLoaded(t)},s.getId=function(t,e){this.id=this.instanceNode.attr("id"),this.id||(this.isCustomId=!0,t||(t="component-"),e||(e="smv-"),this.id=e+t+i.generateUUID(),this.id=this.id.trim(),this.instanceNode.attr("id",this.id))},s.createOptionFunction=function(){var t=this;this.option=function(){return arguments.length>1?t.instanceOptions.set(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1]):t.instanceOptions.get(arguments.length<=0?void 0:arguments[0])}},s.startFullInit=function(t){this.destroyed||this.isStartedFullInit||(this.isStartedFullInit=!0,this.getOptionsForStartFullInit(t))},s.run=function(){return!this.isStarted&&(this.isStarted=!0,!0)},s.done=function(){this.ready=!0},s.destroy=function(){this.destroyed=!0,this.isStarted=!1,this.ready=!1,this.isStartedFullInit=!1,this.isCustomId&&(this.instanceNode.removeAttr("id"),this.isCustomId=!1),this.instanceNode=null,e.prototype.destroy.call(this)},t.createClass(n,[{key:"options",get:function(){return this.instanceOptions.getJSON()}},{key:"imageClassContainer",get:function(){return{}}},{key:"originImageUrl",get:function(){return null}}]),n}(n);return s})),Sirv.define("Instance",["bHelpers","magicJS","globalVariables","BaseInstance","helper"],(function(t,e,n,i,r){var o=e,s=(o.$,function(t){return new Error("This method '"+t+"' is not implemented.")});return function(e){"use strict";function i(t,i,o){var s;return(s=e.call(this,t,i,o)||this).type=n.SLIDE.TYPES.NONE,s.always=i.always,s.quality=i.quality,s.hdQuality=i.hdQuality,s.isHDQualitySet=i.isHDQualitySet,s.isFullscreenEnabled=i.isFullscreen,s.dataAlt=null,s.isSlideShown=!1,s.isInView=!1,s.preload=!1,s.firstSlideAhead=!1,s.infoSize=null,s.pinchCloud=null,s.onLoad=!1,s.waitToStart=new r.WaitToStart,s.waitGettingInfo=new r.WaitToStart,s.gettingInfoPromise=null,s.fullscreenState=n.FULLSCREEN.CLOSED,s.on("stats",(function(t){t.data.component=n.SLIDE.NAMES[s.type]})),s}t.inheritsLoose(i,e);var a=i.prototype;return a.sendEvent=function(t,e){e||(e={}),e.event||(e.event={}),e.id=this.id,e.url=this.instanceUrl,e.event.timestamp=+new Date,e.event.type=n.SLIDE.NAMES[this.type]+":"+t,this.emit("componentEvent",{data:{type:t,data:e}})},a.onStartActions=function(){},a.onStopActions=function(){},a.onInView=function(t){},a.onBeforeFullscreenIn=function(t){},a.onAfterFullscreenIn=function(t){},a.onBeforeFullscreenOut=function(t){},a.onAfterFullscreenOut=function(t){},a.onMouseAction=function(t){},a.onSecondSelectorClick=function(){},a.onStopContext=function(){},a.loadContent=function(){return!0},a.loadThumbnail=function(){return!this.destroyed&&(this.waitToStart.start(),!0)},a.startGettingInfo=function(){return!this.destroyed&&(this.waitGettingInfo.start(),!0)},a.startFullInit=function(t){var n=this;this.isStartedFullInit||(e.prototype.startFullInit.call(this,t),t&&(this.always=t.always),this.dataAlt=this.instanceNode.attr("data-alt"),this.on("startActions",(function(t){t.stop(),n.isSlideShown=!0,n.onStartActions(t.who)})),this.on("stopActions",(function(t){t.stop(),n.isSlideShown=!1,n.onStopActions()})),this.on("inView",(function(t){t.stop();var e=t.data;n.onInView(e),n.isInView=e})),this.setEvents())},a.isFullscreenActionEnded=function(){return[n.FULLSCREEN.CLOSED,n.FULLSCREEN.OPENED].includes(this.fullscreenState)},a.setEvents=function(){var t=this;this.on("beforeFullscreenIn",(function(e){e.stop(),t.fullscreenState===n.FULLSCREEN.OPENED||t.destroyed||(t.fullscreenState=n.FULLSCREEN.OPENING,t.onBeforeFullscreenIn(e.data))})),this.on("afterFullscreenIn",(function(e){e.stop(),t.destroyed||(t.fullscreenState=n.FULLSCREEN.OPENED,t.onAfterFullscreenIn(e.data))})),this.on("beforeFullscreenOut",(function(e){e.stop(),t.fullscreenState===n.FULLSCREEN.CLOSED||t.destroyed||(t.fullscreenState=n.FULLSCREEN.CLOSING,t.onBeforeFullscreenOut(e.data))})),this.on("afterFullscreenOut",(function(e){e.stop(),t.destroyed||(t.fullscreenState=n.FULLSCREEN.CLOSED,t.onAfterFullscreenOut(e.data))}))},a.getSelectorImgUrl=function(t){return Promise.reject(s("getSelectorImgUrl"))},a.getInfoSize=function(){return Promise.reject(s("getInfoSize"))},a.run=function(t,n,i){var r=e.prototype.run.call(this);return r&&(this.isSlideShown=t,this.preload=n,this.firstSlideAhead=i,this.firstSlideAhead||this.waitToStart.start()),r},a.getThumbnailData=function(){return{src:null}},a.getSocialButtonData=function(t){var e=t;return(this.infoSize.width<t.width||this.infoSize.height<t.height)&&(e.width=this.infoSize.width,e.height=this.infoSize.height),this.getThumbnailData(e).src},a.createPinchEvent=function(t){var e=this,n={isAdded:!1,pinch:!1,scale:0,block:!1,onPinchStart:function(t){},onPinchResize:function(t){},onPinchMove:function(t){},onPinchEnd:function(t){n.pinch&&(n.pinch=!1,e.sendEvent("pinchEnd")),n.block=!1},handler:function(t){switch(t.state){case"pinchstart":n.onPinchStart(t);break;case"pinchresize":n.onPinchResize(t);break;case"pinchmove":n.onPinchMove(t);break;case"pinchend":n.onPinchEnd(t)}n.pinch&&t.stop()},addEvent:function(){!n.isAdded&&o.browser.touchScreen&&(t.addEvent("pinch",n.handler),n.isAdded=!0)},removeEvent:function(){n.isAdded&&(t.removeEvent("pinch",n.handler),n.isAdded=!1,n.block=!1,n.pinch=!1)}};n.addEvent(),this.pinchCloud=n},a.done=function(){var t=this;e.prototype.done.call(this),this.createPinchEvent(),this.on("resize",(function(e){e.stop(),t.onResize()})),this.on("stopContext",(function(e){e.stop(),t.onStopContext()})),this.on("secondSelectorClick",(function(e){e.stopAll(),t.onSecondSelectorClick()})),this.on("mouseAction",(function(e){e.stop(),t.onMouseAction(e.data.type)})),this.on("dragEvent",(function(e){e.stop(),t.pinchCloud&&("dragstart"===e.data.type?t.pinchCloud.removeEvent():"dragend"===e.data.type&&t.pinchCloud.addEvent())})),this.sendEvent("ready")},a.sendContentLoadedEvent=function(){this.onLoad||(this.onLoad=!0,this.sendEvent("contentLoaded"))},a.destroy=function(){this.off("stats"),this.off("startActions"),this.off("stopActions"),this.off("inView"),this.off("resize"),this.off("stopContext"),this.off("secondSelectorClick"),this.off("mouseAction"),this.off("dragEvent"),this.off("beforeFullscreenIn"),this.off("afterFullscreenIn"),this.off("beforeFullscreenOut"),this.off("afterFullscreenOut"),this.pinchCloud=null,this.isSlideShown=!1,e.prototype.destroy.call(this),this.waitGettingInfo.destroy(),this.waitGettingInfo=null,this.waitToStart.destroy(),this.waitToStart=null,this.gettingInfoPromise=null},i}(i)})),Sirv.define("HotspotInstance",["bHelpers","magicJS","Instance"],(function(t,e,n){var i=e.$,r=function(t,e){console.warn("sirv.js: The "+t+" method is deprecated and will be removed. \r\n           Use "+e+" instead.")};return function(e){"use strict";function n(n,i,o){var s;(s=e.call(this,n,i,o)||this).hotspots=null;var a=t.assertThisInitialized(s);return s.api=Object.assign(s.api,{addHotspot:function(t){r(".addHotspot()",".hotspots.add()"),a.hotspots.api.add(t),a.isInView&&a.isSlideShown&&a.hotspots.showNeededElements()},removeHotspot:function(t){r(".removeHotspot()",".hotspots.remove()"),a.hotspots.api.remove(t)},removeAllHotspots:function(){r(".removeAllHotspots()",".hotspots.removeAll()"),a.hotspots.api.removeAll()},getHotspots:function(){return r(".getHotspots()",".hotspots.list()"),a.hotspots.api.list()}}),s}t.inheritsLoose(n,e);var o=n.prototype;return o.createHotspotsClass=function(t,e){var n=this;this.hotspots=new t(e),this.hotspots.parentClass=this,this.on("hotspotActivate",(function(t){t.stopAll(),n.onHotspotActivate(t.data),n.sendEvent("hotspotOpened")})),this.on("hotspotDeactivate",(function(t){t.stopAll(),n.onHotspotDeactivate(t.data),n.sendEvent("hotspotClosed")})),this.api=Object.assign(this.api,{hotspots:this.hotspots.api});var i=this;this.api.hotspots.add=function(t){if(t){var e=null;if(!i.hotspots.api.list().length){var r=n.getParentContainer();e=i.hotspots.getRightBoundengClientRect(n.getContainerForBoundengClientRect()),i.hotspots.appendTo(r)}i.hotspots.addHotspot(t),i.hotspots.containerSize=e,i.hotspots.showAll(),i.isInView&&i.isSlideShown&&i.hotspots.showNeededElements()}}},o.getContainerForBoundengClientRect=function(){return this.getParentContainer()},o.done=function(){if(!this.ready&&!this.destroyed&&this.hotspots){var t=this.instanceNode;"img"===t.tagName&&(t=i(t.node.parentNode)),this.hotspots.appendTo(t),this.hotspots.createHotspots(this.hotspotsData),this.nativeFullscreen&&this.hotspots.changeBoxContainerParent(!0),this.hotspots.showAll()}e.prototype.done.call(this)},o.getParentContainer=function(){var t=this.instanceNode;return"img"===t.tagName&&(t=i(t.node.parentNode)),t},o.onHotspotActivate=function(t){},o.onHotspotDeactivate=function(t){},o.onStartActions=function(){this.hotspots&&this.isInView&&this.isSlideShown&&this.hotspots.showNeededElements(),e.prototype.onStartActions.call(this)},o.onStopActions=function(){this.hotspots&&this.hotspots.hideActiveHotspotBox(!0),e.prototype.onStopActions.call(this)},o.onBeforeFullscreenIn=function(t){this.hotspots&&(this.hotspots.hideActiveHotspotBox(),this.nativeFullscreen&&this.hotspots.changeBoxContainerParent(!0))},o.onBeforeFullscreenOut=function(t){this.hotspots&&(this.hotspots.hideActiveHotspotBox(),this.nativeFullscreen&&this.hotspots.changeBoxContainerParent())},o.onAfterFullscreenOut=function(t){this.hotspots&&this.isInView&&this.isSlideShown&&this.hotspots.showNeededElements()},o.destroy=function(){this.hotspots&&this.hotspots.destroy(),this.hotspots=null,this.off("hotspotActivate"),this.off("hotspotDeactivate"),e.prototype.destroy.call(this)},n}(n)})),Sirv.define("Loader",["bHelpers","magicJS","globalVariables","globalFunctions","helper","EventEmitter"],(function(t,e,n,i,r,o){var s=e,a=s.$;return function(e){"use strict";function n(t,n){var i;return(i=e.call(this)||this).parentNode=a(t),i.options=Object.assign({width:null,height:null,class:null},n||{}),i.node=s.$new("div").addClass("smv-loader"),i.type="simple",i.inDoc=!1,i.options.class&&i.node.addClass(i.options.class),i.options.width&&i.node.setCssProp("width",i.options.width),i.options.height&&i.node.setCssProp("height",i.options.height),i}t.inheritsLoose(n,e);var i=n.prototype;return i.append=function(){this.inDoc||(this.inDoc=!0,this.parentNode.append(this.node))},i.show=function(){this.append(),this.node.setCss({display:"",visibility:"visible"})},i.hide=function(){this.node.setCss({display:"none",visibility:"hidden"})},i.destroy=function(){this.hide(),this.node.remove(),this.node=null,this.inDoc=!1,e.prototype.destroy.call(this)},n}(o)})),Sirv.define("RoundLoader",["bHelpers","magicJS","globalVariables","globalFunctions","helper","Loader"],(function(t,e,n,i,r,o){var s=e,a=(s.$,"smv-show");return function(e){"use strict";function i(t,i){var r;return(r=e.call(this,t,i)||this).type="round",r.state=n.APPEARANCE.HIDDEN,r.timer=null,r.loaderElement=s.$new("div"),r.addClass(),r.node.append(r.loaderElement),r}t.inheritsLoose(i,e);var r=i.prototype;return r.addClass=function(){this.node.addClass("smv-round-loader")},r.isHiding=function(){return this.state===n.APPEARANCE.HIDING},r.show=function(){var t=this;[n.APPEARANCE.SHOWING,n.APPEARANCE.SHOWN].includes(this.state)||(this.state=n.APPEARANCE.SHOWING,this.timer=setTimeout((function(){t.timer=null,t.append(),t.node.removeEvent("transitionend"),t.node.addEvent("transitionend",(function(e){e.stop(),t.state=n.APPEARANCE.SHOWN})),t.node.render(),t.node.addClass(a)}),250))},r.hide=function(t){var e=this;(this.state!==n.APPEARANCE.HIDDEN||t)&&(clearTimeout(this.timer),this.node.removeEvent("transitionend"),this.state!==n.APPEARANCE.SHOWN&&(t=!0),this.state=n.APPEARANCE.HIDING,t?(this.node.remove(),this.inDoc=!1,this.state=n.APPEARANCE.HIDDEN):this.node.addEvent("transitionend",(function(t){t.stop(),e.node.remove(),e.inDoc=!1,e.state=n.APPEARANCE.HIDDEN})),this.node.removeClass(a))},r.destroy=function(){this.hide(!0),this.state=n.APPEARANCE.HIDDEN,this.node.innerHTML="",e.prototype.destroy.call(this)},i}(o)})),Sirv.define("ComponentLoader",["bHelpers","magicJS","globalVariables","globalFunctions","helper","RoundLoader"],(function(t,e,n,i,r,o){var s=e;s.$;return function(e){"use strict";function n(t,n){var i;return n=function(t){return t||(t={}),t.width||(t.width="100%"),t.height||(t.height="100%"),t}(n),(i=e.call(this,t,n)||this).type="component",i.loaderElement.addClass("smv-bounce-wrapper").append(s.$new("div").addClass("smv-bounce1")).append(s.$new("div").addClass("smv-bounce2")),i}t.inheritsLoose(n,e);var i=n.prototype;return i.addClass=function(){this.node.addClass("smv-component-loader")},i.destroy=function(){this.loaderElement.removeClass("smv-bounce-wrapper"),this.loaderElement.node.innerHTML="",e.prototype.destroy.call(this)},n}(o)})),Sirv.define("ResponsiveImage",["bHelpers","magicJS","globalVariables","globalFunctions","helper","EventEmitter"],(function(t,e,n,i,r,o){var s=e,a=s.$,c=function(t,e){var n=t+"?"+r.paramsToQueryString(e);return n=r.cleanQueryString(n)},h=function(){"use strict";function e(t,e,n,i,r,o){this._name=t,this._state=0,this.imageNode=null,this._size={width:0,height:0},this.loader=null,this.callbacks=[],this.srcSettings=n,this.srcsetSettings=i,this.dontLoad=r,this.dppx=this.srcsetSettings?this.srcsetSettings.dppx:1,this.referrerPolicy=o,""===n.profile&&delete n.profile,i&&""===i.profile&&delete i.profile,this._src=c(e,n),this._srcset=null,i&&(this._srcset=c(e,i.settings))}var n=e.prototype;return n.load=function(){var t=this;return new Promise((function(e,n){t.dontLoad||t._state?e(t):(t._state=1,t.imageNode=a(new Image),t.imageNode.attr("referrerpolicy",t.referrerPolicy||"no-referrer-when-downgrade"),t.imageNode.addEvent("load",(function(n){if(n.stop(),t._state=2,t._size={width:t.imageNode.node.naturalWidth||t.imageNode.node.width,height:t.imageNode.node.naturalHeight||t.imageNode.node.height},"safari"===s.browser.uaName){var i=!1;t.srcSettings.scale.width?t._size.width>t.srcSettings.scale.width+5&&(i=!0):t._size.height>t.srcSettings.scale.height+5&&(i=!0),i&&(t._size.width/=t.dppx,t._size.height/=t.dppx)}e(t)})),t.imageNode.addEvent("error",(function(e){e.stop(),t._state=3,t.imageNode=null,n(t)})),t.addSrc(),t.addSrcset(),t.imageNode.node.src=t._src)}))},n.addSrc=function(){this.imageNode.node.src=this._src},n.addSrcset=function(){this._srcset&&(this.imageNode.node.srcset=this._srcset+" "+this.dppx+"x")},n.destroy=function(){1===this._state&&this.imageNode&&this.imageNode.attr("src","data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="),this._state=0},t.createClass(e,[{key:"name",get:function(){return this._name}},{key:"node",get:function(){return this.imageNode}},{key:"size",get:function(){return this._size}},{key:"src",get:function(){return this._src}},{key:"srcset",get:function(){return this._srcset}},{key:"state",get:function(){return this._state}},{key:"DPPX",get:function(){return this.dppx}},{key:"loading",get:function(){return 1===this._state}}]),e}(),u=function(e){"use strict";function n(t,n,i,r,o,s,a){var c;return(c=e.call(this,t,n,i,r,o,s)||this)._tileName=a,c}return t.inheritsLoose(n,e),n.prototype.addSrc=function(){1===this.dppx&&e.prototype.addSrc.call(this)},t.createClass(n,[{key:"tileName",get:function(){return this._tileName}}]),n}(h),l=function(t,e){var n,i=Object.assign({},t);return delete i.src,delete i.srcset,i.imageSettings=Object.assign({},(null==t?void 0:t.imageSettings)||{}),e>1&&((n=JSON.parse(JSON.stringify(i))).width&&(n.width=parseInt(n.width*e,10)),n.height&&(n.height=parseInt(n.height*e,10)),n.imageSettings.crop&&(n.imageSettings.crop.width&&(n.imageSettings.crop.width=parseInt(n.imageSettings.crop.width*e,10)),n.imageSettings.crop.height&&(n.imageSettings.crop.height=parseInt(n.imageSettings.crop.height*e,10))),n.dppx=e),i.imageSettings=Object.assign(i.imageSettings,t.src),n&&t.srcset&&(n.imageSettings=Object.assign(n.imageSettings,t.srcset)),{src:i,srcset:n}},d=function(t){return(100*t).toFixed(4)+"%"},f=function(t,e){return t&&t.crop&&t.crop[e]?t.crop[e]:null},p={};return function(e){"use strict";function n(t,n){var i;return i=e.call(this)||this,"string"!==s.typeOf(t)&&(t=a(t).attr("src")),i.o=Object.assign({type:"main",infoId:"sirv-image-"+r.generateUUID(),imageSettings:{},round:!0,dontLoad:!1,convertSmallerSideToZero:!0,referrerPolicy:"no-referrer-when-downgrade",loadNewImage:!1},n),i.imageInfoPromise=null,i.images={},i._originUrl=function(t){return t.split("?")[0]}(s.getAbsoluteURL(t)),i.infoUrl=i._originUrl+"?nometa&info",i.imageSettings=Object.assign({},i.o.imageSettings),i}t.inheritsLoose(n,e),n.roundImageSize=function(t,e){var n;return e||(e={width:Number.MAX_VALUE,height:Number.MAX_VALUE}),t.width&&t.height?t.width>=t.height?(n=r.roundSize(t.width))<=e.width&&(t.height=Math.floor(t.height/t.width*n),t.width=n):(n=r.roundSize(t.height))<=e.height&&(t.width=Math.floor(t.width/t.height*n),t.height=n):t.width?(n=r.roundSize(t.width))<=e.width&&(t.width=n):t.height&&(n=r.roundSize(t.height))<=e.height&&(t.height=n),t};var i=n.prototype;return i._convertImageSettings=function(t){var e=function(t,e){e.width&&(t.width=e.width),e.height&&(t.height=e.height)};t||(t={}),t=Object.assign({},t);var i=this.getClearSizeWithoutProcessingSettings({width:t.width,height:t.height});e(t,i);var r=l(t,t.dppx);if(t.round||!t.hasOwnProperty("round")&&this.o.round){var o=this.originSize;e(r,i=n.roundImageSize(r.src,o)),r.srcset&&e(r,i=n.roundImageSize(r.srcset,o))}return r},i._mixSettings=function(t){return e=p[this.o.infoId],n=this.imageSettings,i=t,o=r.deepExtend({},n),e&&e.imageSettings.processingSettings&&(o.crop||(o.crop={}),o.crop=r.deepExtend(o.crop,e.cropSettings),o.canvas||(o.canvas={}),o.canvas=r.deepExtend(o.canvas,e.canvasSettings),o.frame||(o.frame={}),o.frame=r.deepExtend(o.frame,e.frameSettings),o.scale||(o.scale={}),o.scale.option||(o.scale.option="fill")),i.width&&"auto"!==i.width&&(o.scale.width=i.width),i.height&&"auto"!==i.height&&(o.scale.height=i.height),i.imageSettings&&(o=r.deepExtend(o,i.imageSettings)),o;var e,n,i,o},i._calcProcessingSettings=function(){var t=p[this.o.infoId],e={},n={},i={};t.imageSettings.viewer||(t.imageSettings.viewer={});var r=t.imageSettings.viewer,o={width:t.imageSettings.original.width,height:t.imageSettings.original.height,widthScale:1,heightScale:1};r.scale&&(r.scale.width&&(o.width*=r.scale.width),r.scale.height&&(o.height*=r.scale.height)),o.widthScale=o.width/t.imageSettings.width,o.heightScale=o.height/t.imageSettings.height,r.crop&&(r.crop.width&&(e.width=d(r.crop.width)),r.crop.height&&(e.height=d(r.crop.height)),r.crop.x&&(e.x=d(r.crop.x)),r.crop.y&&(e.y=d(r.crop.y))),r.canvas&&(r.canvas.width&&(n.width=d(r.canvas.width)),r.canvas.height&&(n.height=d(r.canvas.height)),r.canvas.border&&(n.border={},r.canvas.border.width&&(n.border.width=d(r.canvas.border.width)),r.canvas.border.height&&(n.border.height=d(r.canvas.border.height)))),r.frame&&r.frame.width&&(i.width=d(r.frame.width)),t=Object.assign(t,{cropSettings:e,canvasSettings:n,frameSettings:i,originSize:o})},i._addImage=function(t,e){var n=this,i=s.defined(e.src.dontLoad)?e.src.dontLoad:this.o.dontLoad,r=function(t){var e=n._mixSettings(t);return e.scale&&e.scale.width&&e.scale.height&&"ignore"!==e.scale.option&&(e.scale.width>=e.scale.height?n.o.convertSmallerSideToZero&&(e.scale.height=0):n.o.convertSmallerSideToZero&&(e.scale.width=0)),e},o=r(e.src),a=null,c=null;e.src.imageSettings&&e.src.imageSettings.tile&&(c=e.src.imageSettings.tile.number+"");e.srcset&&(a={dppx:e.srcset.dppx,settings:r(e.srcset)});var l=null;return l=null===c?new h(t,this._originUrl,o,a,i,this.o.referrerPolicy):new u(t,this._originUrl,o,a,i,this.o.referrerPolicy,c),this.images[t]={serverWidth:e.src.width,serverHeight:e.src.height,image:l},this.images[t]},i._load=function(t,e){var n,i,r=this;this._addImage(t,e).image.load().then((function(t){n="imageOnload",(i=t)instanceof h&&(r.someImageIsLoaded=!0)})).catch((function(t){i=t,n="imageOnerror"})).finally((function(){i instanceof h&&(r.someImageIsComplete=!0);var t=r.images[i.name];t&&r.emit(n,{data:r._createImageData(t,e.src.callbackData)})}))},i._createImageData=function(t,e){var n=t.image;return{callbackData:e,name:n.name,tileName:n.tileName,tile:n instanceof u,node:n.node,serverWidth:t.serverWidth,serverHeight:t.serverHeight,width:n.size.width,height:n.size.height,src:n.src,srcset:n.srcset,state:n.state,dppx:n.DPPX||1}},i.getCropPosition=function(){var t=p[this.o.infoId],e=f(this.imageSettings,"x");e&&!/%$/.test(e)&&(e=d(e/t.originSize.width));var n=f(this.imageSettings,"y");return n&&!/%$/.test(n)&&(n=d(n/t.originSize.height)),{x:e||t.cropSettings.x,y:n||t.cropSettings.y,type:f(this.imageSettings,"type")||f(t.imageSettings.processingSettings,"type")}},i.isExist=function(t){t=this._convertImageSettings(t);var e=this.generateImageName(t.src),n=Object.prototype.hasOwnProperty.call(this.images,e);if(!n&&(!t.src.imageSettings||!t.src.imageSettings.tile)&&t.src.width){var i=Object.entries(this.images).filter((function(t){return t[1].image instanceof u==!1})).map((function(t){return t[1]}));n=this._getBiggerImage(t.src.width,i)}return!!n},i.isLoaded=function(t){t=this._convertImageSettings(t);var e=this.images[this.generateImageName(t.src)];return e&&(e=2===e.image.state),!!e},i.loadInfo=function(){var t=this;return this.imageInfoPromise||(this.imageInfoPromise=new Promise((function(e,n){var i=t._originUrl,o=s.getHashCode(t.infoUrl.replace(/^http(s)?:\/\//,"")),a=r.paramsToQueryString(t.imageSettings);""!==a?(i+="?"+a,i+="&"):i+="?",i+="nometa&info=sirv_image_info_"+o+"_"+t.o.type,i=r.cleanQueryString(i),r.getRemoteData(i,"image_info_"+r.generateUUID(),t.o.referrerPolicy).then((function(i){!i.width||i._isplaceholder?n(i):(p[t.o.infoId]={imageSettings:i},t._calcProcessingSettings(),e(p[t.o.infoId]))})).catch(n)}))),this.imageInfoPromise},i._getBiggerImage=function(t,e,n){return t||(t=0),e||(e=this.images),n===s.U&&(n=this.o.dontLoad),Object.entries(e).map((function(t){return t[1]})).sort((function(t,e){return t.serverWidth-e.serverWidth})).find((function(e){return t<e.serverWidth&&(2===e.image.state||n)}))||null},i.sendLoad=function(t){t=this._convertImageSettings(t);var e=this.images[this.generateImageName(t.src)];e||(e=this._getBiggerImage(t.src.width)),this.emit("imageOnload",{data:this._createImageData(e,t.src.callbackData)})},i.cancelLoadingImage=function(t){t=this._convertImageSettings(t);var e=this.generateImageName(t.src),n=this.images[e];n&&n.image.loading&&(n.image.destroy(),delete this.images[e])},i.generateImageName=function(t){var e,n;return e=r.cleanQueryString(this._originUrl+"?"+r.paramsToQueryString(this._mixSettings(t))),n=(e=e.replace("?+","?").replace("&+","&").split("?"))[1],e=e[0],n=n.split("&").sort(),""+s.getHashCode(e+"?"+n.join("&"))},i.getClearSizeWithoutProcessingSettings=function(t){var e={},n=p[this.o.infoId];return t.width&&(e.width=Math.round(t.width*n.originSize.widthScale)),t.height&&(e.height=Math.round(t.height*n.originSize.heightScale)),e},i.getImage=function(t){var e=this._convertImageSettings(t),n=s.defined(e.src.dontLoad)?e.src.dontLoad:this.o.dontLoad,i=this.generateImageName(e.src),r=this.images[i];return r||this._load(i,Object.assign({},e)),r&&r.image.state<2&&!n&&(r=null),r||!e.src.maxSize&&this.o.loadNewImage||(e.src.exactSize?n&&(r=this.images[i]):r=this._getBiggerImage(null,null,n)),r&&(r=this._createImageData(r,e.src.callbackData)),r},i.getProcessingSettings=function(){var t=p[this.o.infoId];return{crop:t.cropSettings,cropClear:t.cropSettingsClear,canvas:t.canvasSettings,canvasClear:t.canvasSettingsClear}},i.getThumbnail=function(t){var e=this,n={imageSettings:null,size:null,src:null,srcset:null};if(p[this.o.infoId]){var i=l(t,s.DPPX),o=null,a=this.o.convertSmallerSideToZero,c=t.originUrl||this._originUrl,h=function(n,i){var o={scale:{option:"fill"}};if(n.width||n.height)if(n.width&&n.height)o.scale.width=n.width,o.scale.height=n.height;else{var s=n.width||n.height;o.scale.width=s,o.scale.height=s}n.width===n.height&&(t.crop?o.crop={x:"center",y:"center",width:n.width,height:n.height}:(o.scale.option="fit",o.canvas||(o.canvas={}),o.canvas.width=n.width,o.canvas.height=n.height)),o.scale&&(t.width&&t.height?p[e.o.infoId].imageSettings.original.width>=p[e.o.infoId].imageSettings.original.height?a&&(o.scale.height=0):a&&(o.scale.width=0):t.width?a&&(o.scale.height=0):t.height&&a&&(o.scale.width=0)),i&&(o=Object.assign(o,i));var c=o;return(o={}).imageSettings=c,(o=e._mixSettings(o)).text&&delete o.text,!t.watermark&&o.watermark&&delete o.watermark,r.paramsToQueryString(o)},u=function(t){var e={};return t.width&&(e.width=t.width),t.height&&(e.height=t.height),e};(i.src.crop||i.src.width&&i.src.height)&&(a=!1),n={callbackData:t.callbackData,size:u(i.src.imageSettings),src:r.cleanQueryString(c+"?"+h(u(i.src),i.src.imageSettings))},s.DPPX>1&&(o=h(u(i.srcset),i.srcset.imageSettings))&&(n.srcset=r.cleanQueryString(c+"?"+o))}return n},i.destroy=function(){Object.values(this.images).forEach((function(t){return t.image.destroy()})),this.images={},this.someImageIsLoaded=!1,this.someImageIsComplete=!1,p[this.infoId]&&(delete p[this.infoId],this.infoId=null),e.prototype.destroy.call(this)},t.createClass(n,[{key:"ready",get:function(){return this.someImageIsLoaded}},{key:"complete",get:function(){return this.someImageIsComplete}},{key:"originSize",get:function(){var t,e,n=null,i=null;(p[this.o.infoId]&&(i=p[this.o.infoId].imageSettings),i)&&(i.processingSettings?(t=i.width,e=i.height):(t=i.original.width,e=i.original.height),n={width:t,height:e});return n}},{key:"originUrl",get:function(){var t=null;return this._originUrl&&(t=this._originUrl),t}},{key:"description",get:function(){var t=null,e=p[this.o.infoId];return e&&(t=e.imageSettings.original.description||null),t}},{key:"accountInfo",get:function(){var t={},e=p[this.o.infoId];return e&&(t.account=e.imageSettings.account,t.branded=e.imageSettings.branded),t}}]),n}(o)})),Sirv.define("SliderBuilder",["bHelpers","magicJS","EventEmitter","helper","globalVariables","globalFunctions"],(function(t,e,n,i,r,o){var s=e,a=s.$;return function(){"use strict";function t(t,e){this.mainNode=a(e),this.sirvOptions=i.deepExtend({},t||{}),this.nodes=[],this.configURL=null,this.dataJSON=null,this.configHash=null,this.attrbMainNode=null,this.cfCallbackName=null,this.urlParams=null,this.componentsList=[],this.referrerPolicy=this.mainNode.attr("data-referrerpolicy")||this.mainNode.attr("referrerpolicy")||"no-referrer-when-downgrade"}var e=t.prototype;return e.getOptions=function(){var t=this;return new Promise((function(e,n){var o,a;t.checkNode()?(t.buildCallBackName(),i.getRemoteData((o=t.configURL,a=t.cfCallbackName,o+(s.stringHas(o,"?")?"&":"?")+"nometa&info="+a),t.cfCallbackName,t.referrerPolicy).then((function(n){if(n&&n.assets)t.dataJSON=n,t.buildOptions(),e({dataOptions:t.sirvOptions});else{var i=r.SLIDE.TYPES.IMAGE;n.layers&&(i=r.SLIDE.TYPES.SPIN),e({content:i,dataOptions:t.sirvOptions})}})).catch((function(e){t.configURL,n({error:t.configURL,dataOptions:t.sirvOptions})}))):e({dataOptions:t.sirvOptions})}))},e.buildViewer=function(){var t=this;return new Promise((function(e,n){if(t.dataJSON){var i=/(^https?:\/\/[^/]*)([^#?]*)\/.*$/.exec(t.configURL),r=t.dataJSON.dirname||i[2];t.prepareListComponents(t.dataJSON.assets,i[1],r),t.generateComponents(),t.addAllComponents()}e({mainNode:t.mainNode})}))},e.prepareListComponents=function(t,e,n){var i=this;t.forEach((function(t){var s,a=/^(https?:)?\/\/[^/]/.test(t.name);s=a?t.name:/^\//.test(t.name)?e+t.name:e+n+"/"+t.name,i.componentsList.push({path:a?s:o.normalizeURL(s),type:r.SLIDE.NAMES.indexOf(t.type),is3rd:a})}))},e.checkNode=function(){var t=!1;return this.mainNode&&(this.attrbMainNode=this.mainNode.attr("data-src"),this.attrbMainNode&&/([^#?]+)\/?([^#?]+\.view)(\?([^#]*))?(#(.*))?$/.test(this.attrbMainNode)&&(t=!0)),t},e.buildOptions=function(){this.sirvOptions.common=i.deepExtend(this.sirvOptions.common,this.dataJSON.settings||{}),this.sirvOptions.mobile=i.deepExtend(this.sirvOptions.mobile,this.dataJSON.settings||{})},e.buildCallBackName=function(){this.configURL=o.normalizeURL(this.attrbMainNode.replace(r.REG_URL_QUERY_STRING,"$1")),this.urlParams=this.attrbMainNode.replace(r.REG_URL_QUERY_STRING,"$2"),this.urlParams&&(this.configURL+="?"+this.urlParams),this.configHash=s.getHashCode(this.configURL.replace(/^http(s)?:\/\//,"")),this.cfCallbackName="view-1_"+this.configHash},e.generateComponents=function(){var t=this;this.componentsList.forEach((function(e){var n=s.$new("div");e.type===r.SLIDE.TYPES.IMAGE&&(e.is3rd?(n=s.$new("img")).attr("data-type","static"):n.attr("data-type","zoom"));var i=e.path;t.urlParams&&(i+="?"+t.urlParams),n.attr("data-src",i),t.nodes.push(n)}))},e.addAllComponents=function(){var t=this;this.mainNode.node.innerHTML="",this.nodes.forEach((function(e){t.mainNode.node.appendChild(e.node)}))},e.destroy=function(){this.mainNode=null,this.sirvOptions=null,this.nodes=[],this.configURL=null,this.dataJSON=null,this.configHash=null,this.cfCallbackName=null,this.componentsList=[]},t}()})),Sirv.define("getDPPX",["bHelpers","magicJS","helper","ResponsiveImage"],(function(t,e,n,i){var r=e;r.$;return function(t,e,o,s,a,c){var h=1;if(r.DPPX>1)if(e>t){var u=a?i.roundImageSize({height:e}).height:e;h=n.getDPPX(u,s,c)}else{var l=a?i.roundImageSize({width:t}).width:t;h=n.getDPPX(l,o,c)}return h}})),Sirv.define("ViewerImage",["bHelpers","magicJS","globalVariables","globalFunctions","helper","ResponsiveImage","HotspotInstance","Hotspots","getDPPX"],(function(t,e,n,i,r,o,s,a,c){var h=e,u=h.$;return function(e){"use strict";function s(t,o){var s;return(s=e.call(this,t,o,{})||this).type=n.SLIDE.TYPES.IMAGE,s.instanceNode.attr("referrerpolicy",s.referrerPolicy),s.image=null,s.isInfoLoaded=!1,s.getImageInfoPromise=null,s.loadStaticImagePromise=null,s.imageShowPromise=null,s.srcWasSetted=!1,s.lastImageSize={width:0,height:0},s.imageIndex=o.imageIndex,s.dppx=1,s.upscale=!1,s.size={width:0,height:0},s.dontLoad=!0,s.accountInfo={},s.countOfTries=1,s.isFullscreen=o.isFullscreen,s.nativeFullscreen=o.nativeFullscreen,s.infoAlt=null,s.originAlt=s.instanceNode.attr("alt"),s.originTitle=s.instanceNode.attr("title"),s.src=s.instanceNode.attr("src"),s.srcset=s.instanceNode.attr("srcset"),s.startedSrc=s.src,s.dataSrc=s.instanceNode.attr("data-src"),s.isStaticImage=s.src&&!s.dataSrc,s.imageUrl=s.dataSrc||s.src,s.getImageTimer=r.debounce((function(){s.getImage()}),32),s.firstSlideAhead=!1,s.src=i.normalizeURL(s.imageUrl.replace(n.REG_URL_QUERY_STRING,"$1")),s.queryParamsQuality=null,s.queryParams=r.paramsFromQueryString(s.imageUrl.replace(n.REG_URL_QUERY_STRING,"$2")),s.getQueryParams(),s.isNotSirv=!1,r.isSVG(s.imageUrl)&&(s.isNotSirv=!0),s.createHotspotsClass(a),s.createSirvImage(),s}t.inheritsLoose(s,e);var l=s.prototype;return l.sendEvent=function(t,n){n||(n={}),n.imageIndex=this.imageIndex,e.prototype.sendEvent.call(this,t,n)},l.getInfo=function(){var t=this;return this.gettingInfoPromise||(this.gettingInfoPromise=new Promise((function(e,n){t.waitGettingInfo.wait((function(){t.image.loadInfo().then((function(n){t.destroyed||(t.isInfoLoaded=!0,t.infoAlt=t.image.description,t.infoSize=t.image.originSize,t.accountInfo=t.image.accountInfo,t.hotspotsData=n.hotspots,t.hotspots&&(t.hotspots.originImageSize=t.infoSize),e())})).catch((function(e){t.destroyed||(t.isInfoLoaded=!0,e.status&&404===e.status||(t.isNotSirv=!0),n(e))}))}))}))),this.gettingInfoPromise},l.getQueryParams=function(){if(this.imageUrl){if(this.queryParams){var t=parseInt(this.queryParams.quality,10);isNaN(t)?delete this.queryParams.quality:this.queryParams.quality=t}this.queryParamsQuality=this.queryParams.quality||null}},l.getImageCreateSettings=function(){var t={src:{},srcset:{}};null!==this.quality&&null===this.queryParamsQuality&&(t.src.quality=this.quality);var e=this.hdQuality;return(null===this.queryParamsQuality||this.isHDQualitySet&&e<this.queryParamsQuality)&&(t.srcset={quality:e}),t.width=this.size.width,this.size.height&&(t.height=this.size.height),t=r.imageLib.checkMaxSize(t,this.infoSize),this.infoSize.width!==t.width&&this.infoSize.height!==t.height||(t.round=!1),h.DPPX>1&&(t.dppx=this.dppx),t},l.setHDQuality=function(t){return t.dppx>1&&t.dppx<1.5&&(null===this.queryParamsQuality&&null!==this.quality?t.srcset.quality=this.quality:t.srcset&&delete t.srcset.quality),t},l.replaceSrc=function(){var t;if(this.isNotSirv){if(this.srcWasSetted)return;this.srcWasSetted=!0,t={src:this.imageUrl}}else{var e=this.getImageCreateSettings();e.dppx>1&&e.dppx<1.5&&delete e.srcset.quality,e=this.setHDQuality(e),t=this.image.getImage(e),this.lastImageSize.width=t.width||t.serverWidth,this.lastImageSize.height=t.height||t.serverHeight}this.instanceNode.attr("src",t.src),t.srcset?!this.isNotSirv&&this.dppx>1&&this.instanceNode.attr("srcset",t.srcset+" "+this.dppx+"x"):this.instanceNode.removeAttr("srcset")},l.showImage=function(){var t=this;return this.imageShowPromise||(this.imageShowPromise=new Promise((function(e,n){t.isStaticImage?(t.instanceNode.setCssProp("opacity",""),e()):t.isInView&&t.isSlideShown?(t.instanceNode.addEvent("transitionend",(function(n){"opacity"===n.propertyName&&(n.stop(),t.instanceNode.removeEvent("transitionend"),t.instanceNode.setCss({opacity:"",transition:""}),e())})),t.instanceNode.render(),t.instanceNode.setCss({opacity:1,transition:"opacity 0.3s linear"})):(t.instanceNode.setCssProp("opacity",""),e())}))),this.imageShowPromise},l.createSirvImage=function(){var t=this;this.imageUrl&&!this.isNotSirv&&(this.on("imageOnload",(function(e){e.stopAll(),t.replaceSrc(),t.ready||(e.data.node?t.showImage().finally((function(){t.done()})):r.loadImage(t.instanceNode).finally((function(){t.showImage().finally((function(){t.done(),t.sendContentLoadedEvent()}))})))})),this.on("imageOnerror",(function(t){t.stopAll(),console.log("image error")})),this.image=new o(this.imageUrl,{imageSettings:this.queryParams,round:!0,dontLoad:this.dontLoad,referrerPolicy:this.referrerPolicy}),this.image.parentClass=this,this.getInfo())},l.getInfoSize=function(){var t=this;return this.getImageInfoPromise||(this.getImageInfoPromise=new Promise((function(e,n){t.image?t.getInfo().then((function(){e({size:t.infoSize,imageIndex:t.imageIndex})})).catch((function(e){n({error:e,isPlaceholder:e._isplaceholder,imageIndex:t.imageIndex})})):n({error:"nonsirv",isPlaceholder:!1,imageIndex:t.imageIndex})}))),this.getImageInfoPromise},l.startFullInit=function(t){this.isStartedFullInit||(e.prototype.startFullInit.call(this,t),this.getId("responsive-image-"),this.isStaticImage||this.instanceNode.setCssProp("opacity",0))},l.run=function(t,n,i,o){var s=this;this.firstSlideAhead=i;var a=e.prototype.run.call(this,t,n,i);if(a)if(this.destroyed)a=!1;else{this.instanceNode.removeAttr("alt"),this.instanceNode.removeAttr("title"),this.instanceNode.setCss({display:"inline-flex"}).render(),this.instanceNode.setCss({display:""}).render();var c=null;r.imageLib.getSize(this.instanceNode.node.parentNode).then((function(t){c=t})).finally((function(){s.destroyed||(c.width&&c.height<=20&&(c.height=0),s.size=r.imageLib.calcProportionSize(c,s.infoSize),(s.originAlt||s.infoAlt)&&u(s.instanceNode).attr("alt",s.originAlt||s.infoAlt),s.originTitle&&u(s.instanceNode).attr("title",s.originTitle),s.isStaticImage?s.loadStaticImage().finally((function(){s.isInfoLoaded&&s.done()})):(s.originAlt&&u(s.instanceNode).attr("alt",s.originAlt),s.isInView&&(s.isSlideShown||s.preload||o)&&s.getImage()),s.dataAlt&&u(s.instanceNode).attr("alt",s.dataAlt))})),this.startGettingInfo()}return a},l.loadContent=function(){this.getImage(!0)},l.loadStaticImage=function(){var t=this;return this.loadStaticImagePromise||(this.loadStaticImagePromise=new Promise((function(e,n){t.isStaticImage?t.instanceNode.node.complete?e():(t.instanceNode.addEvent("load",(function(n){t.sendContentLoadedEvent(),e()})),t.instanceNode.addEvent("error",(function(t){n()}))):e()}))),this.loadStaticImagePromise},l.getImage=function(t){var e=this;this.isStaticImage||(this.isNotSirv||this.ready||this.size.width||this.size.height?(this.waitToStart.start(),this.isNotSirv?this.replaceSrc():this.getSirvImg()):this.countOfTries<100&&setTimeout((function(){e.countOfTries+=1,e.isStarted=!1,e.run(e.isSlideShown,e.preload,e.firstSlideAhead,t)}),16*this.countOfTries))},l.getSirvImg=function(){var t=this.getImageCreateSettings();if(h.DPPX>1){var e=this.image.originSize;this.dppx=c(t.width,t.height,e.width,e.height,!h.defined(t.round)||t.round,this.upscale),t.dppx=this.dppx}t=this.setHDQuality(t),this.checkImage(t,this.dontLoad)?this.replaceSrc():this.image.getImage(t)},l.done=function(){if(!this.ready){if(this.accountInfo.branded){var t=this.instanceNode;"img"===t.tagName&&(t=t.node.parentNode);var n=i.getNodeWithSirvClassName(this.instanceNode)||h.D.node.head||h.D.node.body;i.rootDOM.showSirvAd(n,t,"https://sirv.com/about-image/?utm_source=client&utm_medium=sirvembed&utm_content=typeofembed(image)&utm_campaign=branding","Image viewer by Sirv")}e.prototype.done.call(this),this.hotspots&&(this.hotspots.containerSize=this.instanceNode.node.getBoundingClientRect()),this.isFullscreenEnabled||(this.pinchCloud.removeEvent(),this.pinchCloud=null)}},l.getSelectorImgUrl=function(t){var e=this;return new Promise((function(n,i){var r=e.getImageCreateSettings();r.src&&(t.src=r.src),t.srcset=r.srcset,e.isInfoLoaded?e.waitToStart.wait((function(){n(Object.assign(e.image.getThumbnail(t),{imageIndex:e.imageIndex,alt:e.dataAlt||e.originAlt||e.infoAlt,referrerpolicy:e.instanceNode.attr("referrerpolicy")}))})):e.getInfo().then((function(){e.waitToStart.wait((function(){n(Object.assign(e.image.getThumbnail(t),{imageIndex:e.imageIndex,alt:e.dataAlt||e.originAlt||e.infoAlt,referrerpolicy:e.instanceNode.attr("referrerpolicy")}))}))})).catch(i)}))},l.getThumbnailData=function(t){return this.image.getThumbnail(t)},l.createPinchEvent=function(){var t=this;e.prototype.createPinchEvent.call(this,this.instanceNode),this.pinchCloud.onPinchStart=function(e){[n.FULLSCREEN.OPENING,n.FULLSCREEN.CLOSING].includes(t.fullscreenState)||(t.pinchCloud.pinch=!0,t.pinchCloud.scale=e.scale,t.sendEvent("pinchStart"))},this.pinchCloud.onPinchMove=function(e){t.pinchCloud.pinch&&!t.pinchCloud.block&&(t.fullscreenState===n.FULLSCREEN.OPENED?e.scale<.2&&(t.pinchCloud.block=!0,t.sendEvent("fullscreenOut")):e.scale>=2&&(t.pinchCloud.block=!0,t.sendEvent("fullscreenIn")))}},l.onStartActions=function(){this.ready||this.isInView&&this.isStarted&&(this.fullscreenState===n.FULLSCREEN.OPENED&&this.onResize(),this.always?this.getImageTimer():this.getImage()),e.prototype.onStartActions.call(this)},l.onStopActions=function(){e.prototype.onStopActions.call(this)},l.onInView=function(t){t&&!this.isStaticImage&&(this.ready||this.isInView||this.isStarted&&(this.isInView=!0,this.isInfoLoaded&&(this.preload||this.isSlideShown)&&this.getImage()))},l.onBeforeFullscreenIn=function(t){this.getImageTimer.cancel(),this.ready&&!this.isStaticImage&&this.instanceNode.setCssProp("visibility","hidden"),e.prototype.onBeforeFullscreenIn.call(this,t),this.hotspots&&this.hotspots.disableAll()},l.onAfterFullscreenIn=function(t){var e=this;this.always&&!this.ready&&this.isInView&&this.isStarted&&(this.onResize(),this.getImage()),this.hotspots&&setTimeout((function(){e.fullscreenState===n.FULLSCREEN.OPENED&&(e.hotspots.enableAll(),e.isInView&&e.isSlideShown&&e.hotspots.showNeededElements())}),100)},l.onBeforeFullscreenOut=function(t){this.instanceNode.setCss({width:"",height:"",visibility:""}),e.prototype.onBeforeFullscreenOut.call(this,t)},l.onAfterFullscreenOut=function(t){e.prototype.onAfterFullscreenOut.call(this,t)},l.onResize=function(){if(!this.isStarted||this.isStaticImage||this.isNotSirv)return!1;if(this.isFullscreenActionEnded()){var t=u(this.instanceNode.node.parentNode).size;if(t=r.imageLib.calcProportionSize(t,this.infoSize),this.fullscreenState===n.FULLSCREEN.OPENED&&(this.instanceNode.setCss({width:t.width+"px",height:t.height+"px"}),this.instanceNode.setCssProp("visibility","")),this.size.width=t.width,this.size.height&&(this.size.height=t.height),this.ready){(this.size.width-this.lastImageSize.width>50||this.size.height-this.lastImageSize.height>50)&&this.getImage(),this.hotspots&&(this.hotspots.containerSize=this.instanceNode.node.getBoundingClientRect(),this.isInView&&this.isSlideShown&&this.hotspots.showNeededElements())}return!0}return!1},l.destroy=function(){if(this.image&&(this.off("imageOnload"),this.off("imageOnerror"),this.image.destroy(),this.image=null),this.getImageTimer.cancel(),this.getImageTimer=null,this.instanceNode.setCssProp("opacity",""),this.hotspot&&u(this.instanceNode.node.parentNode).removeEvent("tap"),this.instanceNode.node.hasAttribute("src"))try{this.instanceNode.removeAttr("src"),this.isStaticImage&&this.instanceNode.attr("src",this.imageUrl)}catch(t){}if(this.isStaticImage?this.instanceNode.attr("src",this.src):this.instanceNode.removeAttr("src"),this.srcset)this.instanceNode.attr("srcset",this.srcset);else try{this.instanceNode.removeAttr("srcset")}catch(t){}return this.srcset=null,this.originAlt||!this.infoAlt&&!this.dataAlt||this.instanceNode.removeAttr("alt"),this.instanceNode.removeEvent("load"),this.hotspotsData=null,e.prototype.destroy.call(this),!0},t.createClass(s,[{key:"imageClassContainer",get:function(){return this.image}},{key:"originImageUrl",get:function(){return this.src}}]),s}(s)})),Sirv.define("defaultsVideoOptions",{autoplay:{type:"boolean",defaults:!1},loop:{type:"boolean",defaults:!1},volume:{type:"number",minimum:0,maximum:100,defaults:100},preload:{type:"boolean",defaults:!0},thumbnail:{oneOf:[{type:"url"},{type:"boolean",enum:[!1]},{type:"number",minimum:0}],defaults:!1},motionFactor:{type:"number",minimum:1,maximum:4,defaults:3},dynamicAdaptiveStreaming:{type:"boolean",defaults:!0},quality:{min:{type:"number",enum:[360,480,720,1080],defaults:360},max:{type:"number",enum:[360,480,720,1080],defaults:1080}},controls:{enable:{type:"boolean",defaults:!0},volume:{type:"boolean",defaults:!0},speed:{type:"boolean",defaults:!1},quality:{type:"boolean",defaults:!1},fullscreen:{type:"boolean",defaults:!0}}});