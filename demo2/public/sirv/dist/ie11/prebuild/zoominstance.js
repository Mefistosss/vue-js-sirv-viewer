Sirv.define("Zoominstance",["bHelpers","magicJS","HotspotInstance","ImageZoom"],(function(o,t,n,i){t.$;return function(t){"use strict";function n(n,i,e){var a;return(a=t.call(this,n,i,e)||this).zoom=null,a.upscale=!1,a.defaultZoomOptions={},a.zoomContainer=a.instanceNode,a.zoomClassName="smv-zoomed-in",a.api=Object.assign(a.api,{zoomIn:a.zoomIn.bind(o.assertThisInitialized(a)),zoomOut:a.zoomOut.bind(o.assertThisInitialized(a)),isZoomed:a.isZoomed.bind(o.assertThisInitialized(a))}),a}o.inheritsLoose(n,t);var e=n.prototype;return e.setDefaultZoomOptions=function(){this.defaultZoomOptions={test:!1,upscale:this.upscale,smoothing:!0}},e.createZoom=function(o,t){if(!this.destroyed){var n=Object.assign({},this.defaultZoomOptions);return t&&(n=Object.assign(n,t)),this.zoom=new i(this.instanceNode,n),this.zoom.parentClass=this,n}return null},e.onZoomGetImage=function(o){o.data.exactSize=!0,o.data.maxSize=!1,o.data.round=!1,o.data.callbackData={lens:!0,indexX:o.data.indexX,indexY:o.data.indexY,level:o.data.level,number:o.data.number,map:o.data.map}},e.onZoomCancelLoadingOfTiles=function(o){o.data.callbackData||(o.data.callbackData={}),o.data.callbackData.lens=!0},e.onZoomBeforeShow=function(o){},e.onZoomShown=function(o){},e.onZoomHidden=function(o){},e.setZoomEvents=function(){var o=this;this.zoom&&(this.on("zoomGetImage",(function(t){t.stopAll(),o.onZoomGetImage(t)})),this.on("zoomCancelLoadingOfTiles",(function(t){t.stopAll(),o.onZoomCancelLoadingOfTiles(t)})),this.on("zoomBeforeShow",(function(t){t.stopAll(),o.onZoomBeforeShow(t)})),this.on("zoomShown",(function(t){t.stopAll(),o.onZoomShown(t)})),this.on("zoomHidden",(function(t){t.stopAll(),o.onZoomHidden(t)})))},e.zoomIn=function(){return this.ready},e.zoomOut=function(){return this.ready},e.getZoomData=function(){return this.ready&&this.zoom?this.zoom.getZoomData():0},e.isZoomed=function(){return!(!this.ready||!this.zoom)&&(this.zoom.shown||this.zoom.showing)},e.isZoomSizeExist=function(){return!1},e.clearZoom=function(){this.zoom&&(this.off("zoomGetImage"),this.off("zoomCancelLoadingOfTiles"),this.off("zoomBeforeShow"),this.off("zoomShown"),this.off("zoomHidden"),this.zoom.destroy(),this.zoom=null)},e.destroy=function(){this.clearZoom(),t.prototype.destroy.call(this)},n}(n)}));